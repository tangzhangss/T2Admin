function generateCompareTRs(r,n){return function(t,e){var i="",o="";if(null!=t.cells[r].firstChild&&(i=t.cells[r].firstChild.nodeValue,"a"==t.cells[r].firstChild.localName&&(i=t.cells[r].firstChild.firstChild.nodeValue)),null!=e.cells[r].firstChild&&(o=e.cells[r].firstChild.nodeValue,"a"==e.cells[r].firstChild.localName&&(o=e.cells[r].firstChild.firstChild.nodeValue)),isNumber(i)&&isNumber(o))return(a=convert(toThousands(i),"float"))<(d=convert(toThousands(o),"float"))?-1:d<a?1:0;if(isDate(i)&&isDate(o))return(a=convert(toThousands(i),"date"))<(d=convert(toThousands(o),"date"))?-1:d<a?1:0;if(isChineseChar(i)||isChineseChar(o)){a=isChineseChar(i)?makePy(i)[0]:i,d=isChineseChar(o)?makePy(o)[0]:o;var a=a.substring(1,0),d=d.substring(1,0);return a.localeCompare(d)}return a=convert(toThousands(i),n),d=convert(toThousands(o),n),a.localeCompare(d)}}function sortTable(t,e,i){for(var o=$(t)[0],t=o.tBodies[0],a=t.rows,d=new Array,r=0;r<a.length;r++)d[r]=a[r];o.sortCol===e?d.reverse():d.sort(generateCompareTRs(e,i));for(var n=document.createDocumentFragment(),r=0;r<d.length;r++)n.appendChild(d[r]);t.appendChild(n),o.sortCol=e}!function(c){function p(t){var e=0;return t&&c(t).hasClass("on")&&(e=c(t).height(),e+=getTargetPropertyVal(t,"paddingTop"),e+=getTargetPropertyVal(t,"paddingBottom")),e}function d(t,e,i){i=i||750,c(t).css({transition:"all "+i/1e3+"s"}),c(t).css(e),setTimeout(function(){c(t).css({transition:""})},i)}function u(t,e){return parseInt(t.css(e))}c.fn.fixedHeadCol=function(t,e){var i,o,a=c(this),i=c("#toolbar").outerHeight(!0)+(i="#datalist",getTargetPropertyVal(i,"paddingTop")+getTargetPropertyVal(i,"paddingBottom"));"parmclose"==e?(o=a.offset().top+a.parent().scrollTop()-t.parmHeight,a.data("fixedHead")&&d(a.data("fixedHead"),{top:o}),a.data("fixedColBody")&&(a.width()>a.parent().width()?d(a.data("fixedColBody"),{top:o,height:c(window).height()-i-scrollBarWidth-1}):d(a.data("fixedColBody"),{top:o,height:c(window).height()-i})),a.data("fixedColHead")&&d(a.data("fixedColHead"),{top:o})):"parmopen"==e&&(o=a.offset().top+a.parent().scrollTop()+t.parmHeight,a.data("fixedHead")&&d(a.data("fixedHead"),{top:o}),a.data("fixedColBody")&&(a.width()>a.parent().width()?d(a.data("fixedColBody"),{top:o,height:c(window).height()-t.parmHeight-i-scrollBarWidth+1}):d(a.data("fixedColBody"),{top:o,height:c(window).height()-t.parmHeight-i})),a.data("fixedColHead")&&d(a.data("fixedColHead"),{top:o}))},c.fn.fixedHead=function(t,e){var i=c(this);if("destroy"==e&&i.data("fixedHead")&&(i.data("fixedHead").remove(),i.removeData("fixedHead")),"refurbish"==e&&i.data("fixedHead")&&(d=i.offset().top+i.parent().scrollTop()-c(window).scrollTop(),i.data("fixedHead").css({top:d-1})),t){i.parent().find(".fixedHead").remove();var o=i.index(),a=i.outerWidth(),d=i.offset().top+i.parent().scrollTop(),e=i.parent().offset().left,r=t.rows,n=i.clone(),s=c('<div class="fixedHead"></div>');s.append(n),n.find("tbody").remove(),n.addClass("fixedHead-"+o),n.removeClass("dynamic");for(var l=0,f=0;f<r;f++)l+=i.find("thead tr").eq(f).height();a>i.parent().width()?s.width(i.parent().width()-scrollBarWidth):s.width(i.parent().width()),s.height(l+1),n.css({width:a,height:l}),s.css({position:"fixed",top:d,left:e,"z-index":5,overflow:"hidden"}),i.after(s),i.data("fixedHead",s),n.css({"margin-left":-i.parent().scrollLeft()+getTargetPropertyVal(i,"marginLeft")});s.position().top;c(window).resize(function(){setTimeout(function(){i.offset().left,i.offset().left,i.parent().scrollLeft();var t=i.parent().scrollLeft()-getTargetPropertyVal(i,"marginLeft");s.find("table").css({"margin-left":-t}),i.outerWidth()>i.parent().width()?s.width(i.parent().width()-scrollBarWidth):s.width(i.parent().width()),n.css({"margin-left":-t}),s.width(c(window).width()-scrollBarWidth)},1)}),i.parent().scroll(function(){var t=i.parent().scrollLeft()-getTargetPropertyVal(i,"marginLeft");n.css({"margin-left":-t}),s.show()}),c(window).scroll(function(){i.outerWidth()>i.parent().width()?s.width(i.parent().width()-scrollBarWidth):s.width(i.parent().width())})}},c.fn.fixedCol=function(o,t){var e,d,i,a,r,n,s,l,f,h=c(this);"destroy"==t?h.data("fixedColHead")&&(h.data("fixedColHead").remove(),h.removeData("fixedColHead"),h.data("fixedColBody").remove(),h.removeData("fixedColBody")):o&&(h.parent().find(".fixedCol-head").remove(),h.parent().find(".fixedCol-body").remove(),h.parent().width(window.innerWidth),e=h.index(),d=o.cols,i=h.offset().top+h.parent().scrollTop(),a=h.offset().top+h.parent().scrollTop(),t=h.offset().left+h.parent().scrollLeft(),(r=h.clone()).find("tbody").remove(),r.addClass("fixedCol-"+e),r.removeClass("dynamic"),(n=h.clone()).find("tbody").empty(),n.addClass(" fixedCol-"+e),n.removeClass("dynamic"),s=0,h.find("tbody tr").each(function(t,e){for(var i=0;i<d;i++){var o=c(e).find("td").eq(i);0==t&&(s+=o.outerWidth(!0)+u(o,"borderLeftWidth")+u(o,"borderRightWidth"))}n.find("tbody").append(c(e).clone())}),l=c('<div class="fixedCol-head "></div>'),f=c('<div class="fixedCol-body"></div>'),l.append(r),f.append(n),h.after(l),h.after(f),l.css({position:"fixed",top:i,left:t,width:s,overflow:"hidden","z-index":6,height:h.height()+1}),n.css({"margin-top":-h.parent().scrollTop()}),f.css({position:"fixed",top:a,left:t,width:s,overflow:"hidden",height:h.parent().height(),"z-index":3}),h.height()>h.parent().height()?f.css("height",h.parent().outerHeight(!0)-scrollBarWidth):f.css("height",h.parent().height()),h.data("fixedColBody",f),h.data("fixedColHead",l),h.data("fixedHead")&&(r.css({"margin-top":0}),l.height(h.parent().find(".fixedHead").height())),c(window).resize(function(){h.parent().width(window.innerWidth);var t=h.offset().left+h.parent().scrollLeft(),e=(h.find("tbody").offset().top,h.parent().scrollTop(),h.offset().top+h.parent().scrollTop()-p(o.parmDiv)),i=h.offset().top+h.parent().scrollTop()-p(o.parmDiv);f.css({top:i,left:t}),l.css({top:e,left:t}),h.outerWidth()>h.parent().width()||h.outerWidth()<h.parent().width()&&h.outerWidth()>h.parent().width()-scrollBarWidth-1?f.css("height",h.parent().outerHeight(!0)-scrollBarWidth):f.css("height",h.parent().outerHeight(!0));var e=h.offset().top+h.parent().scrollTop(),i=h.offset().top+h.parent().scrollTop(),a=1;h.find("tbody tr").each(function(t,e){for(var i=0;i<d;i++){var o=c(e).find("td").eq(i);0==t&&(a+=o.outerWidth(!0))}}),l.css({left:t,top:e,width:a}),h.data("fixedHead")&&l.height(h.parent().find(".fixedHead").height()),f.css({top:i})}),h.parent().scroll(function(){var t=h.parent().scrollTop();n.css({"margin-top":-t}),h.data("fixedHead")?r.css({"margin-top":0}):r.css({"margin-top":-t})}))},c.fn.sortTable=function(){var o=c(this);o.find("tr td").each(function(){c(this).data("text",c(this).html())}),o.find("tr td").bind("click",function(t,e){var i={sortField:"",sortType:""},i={sortField:c(this).data("name")};c(this).siblings("td").removeClass("desc").removeClass("asc").each(function(){0==c(this).data("sorttype")||1==c(this).data("sorttype")?c(this).html(c(this).data("text")+'<i class="fa fa-exchange fa-rotate-90"></i>'):c(this).html(c(this).data("text"))}),c(this).hasClass("desc")?(c(this).html(c(this).data("text")+'<i class="fa fa-long-arrow-up"></i>'),c(this).removeClass("desc").addClass("asc"),i.sortType="ASC"):(c(this).html(c(this).data("text")+'<i class="fa fa-long-arrow-down"></i>'),c(this).removeClass("asc").addClass("desc"),i.sortType="DESC"),sortArr=[],sortArr.push(i),c("#tableSortVal").val(JSON.stringify(sortArr)),sortTable(o,t,"string")})},c.fn.highlight=function(t){var e,i,r,n,s;null!=t&&(e=c(this),i=t.cols,r=t.start,n=t.end,s=t.innum,e.find("tbody tr").each(function(t,e){var o=c(e),a=!1,d=!1;c.each(i,function(t,e){var i=o.find("td").eq(e).text();null!=r&&null!=n&&(a=r<i&&i<=n),null!=s&&null!=s&&""!=s&&c.each(s,function(t,e){e==i&&(d=!0)})}),(a||d)&&(o.css({"background-color":"beige"}),o.find("td").each(function(t,e){c(e).css({cssText:"border-bottom:1px solid white !important;"})}),c.each(i,function(t,e){o.find("td").eq(e).css({"font-weight":"bold"})}))}))},c.fn.colMove=function(){var o=c(this);o.data("colMoveSts",!1),o.find("thead td").mousedown(function(){var a,d=c(this).index();o.data("colMoveSts",!0),c("#info").css({display:"block"}),c("#info").html(c(this).html()),c(document).mousemove(function(t){if(o.data("colMoveSts")){var e=(t=t||window.event).clientX+5+"px",i=t.clientY+5+"px";return c("#info").css({left:e,top:i}),t.preventDefault&&t.preventDefault(),!1}}),o.find("td").mouseenter(function(){(a=c(this).index())==d?c("#triangle").css("display","none"):c("#triangle").css("display","block");var t=c(this).offset().top,i=0,e=c(this).prevAll(),o=c(e[e.length-1]).offset().left;c.each(e,function(t,e){i+=e.offsetWidth}),d<a&&(i+=c(this)[0].offsetWidth),c("#triangle").css({top:t-10,left:o+i-1})}),c(document).mouseup(function(){o.data("colMoveSts",!1),c("#triangle").css("display","none"),c("#info").css({display:"none"}),a<d?o.find("tr").each(function(t){o.find("tr:eq("+t+") td:eq("+a+")").before(o.find(" tr:eq("+t+") td:eq("+d+")").clone(!0)),o.find("tr:eq("+t+") td:eq("+(d+1)+")").remove()}):d<a&&o.find("tr").each(function(t){o.find("tr:eq("+t+") td:eq("+a+")").after(o.find(" tr:eq("+t+") td:eq("+d+")").clone(!0)),o.find("tr:eq("+t+") td:eq("+d+")").remove()}),c(document).unbind("mousemove"),c(document).unbind("mouseup"),o.find("td").unbind("mouseenter")})})}}(jQuery);