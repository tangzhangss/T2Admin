!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.GridManager=t():e.GridManager=t()}(this,function(){return function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=22)}([function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return u});var i=n(24),r=(n.n(i),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),o=window.jTool,s=window.jTool,c=function(){function e(){a(this,e)}return r(e,[{key:"getKey",value:function(e){return e.attr("grid-manager")||""}},{key:"getSetTopAttr",value:function(){return"grid-manager-mock-thead"}},{key:"getEmptyHtml",value:function(e,t){return'<tr emptyTemplate>\n\t\t\t\t\t<td colspan="'+(e||1)+'">\n\t\t\t\t\t'+(t||"")+"\n\t\t\t\t\t</td>\n\t\t\t\t</tr>"}},{key:"updateEmptyCol",value:function(e){var t=s("tr[emptyTemplate]",e);0!==t.length&&s("td",t).attr("colspan",s('th[th-visible="visible"]',e).length)}},{key:"outLog",value:function(e,t){switch(t){case"info":console.info("GridManager Info: ",e);break;case"warn":console.warn("GridManager Warn: ",e);break;case"error":console.error("GridManager Error: ",e);break;default:console.log("GridManager: ",e)}}},{key:"getColTd",value:function(e){var t=e.closest("table[grid-manager]"),n=e.index(),a=o("tbody tr",t),i=[],r=null;return o.each(a,function(e,t){(r=o("td",t).get(n))&&i.push(r)}),o(i)}},{key:"setAreVisible",value:function(e,t,n){var a=this,i=null,r=void 0,c=null,u=null,l=[],d=null,f=null;o.each(e,function(e,h){c=o(h),i=c.closest("table"),r=i.closest(".table-wrap"),u=o("tbody tr[cache-key]",i),d=o('.config-area li[th-name="'+c.attr("th-name")+'"]',r),f=s('input[type="checkbox"]',d),o.each(u,function(e,t){l.push(o(t).find("td").get(c.index()))}),t?(c.attr("th-visible","visible"),o.each(l,function(e,t){t.setAttribute("td-visible","visible")}),d.addClass("checked-li"),f.prop("checked",!0)):(c.attr("th-visible","none"),o.each(l,function(e,t){t.setAttribute("td-visible","none")}),d.removeClass("checked-li"),f.prop("checked",!1)),a.updateEmptyCol(i),"function"==typeof n&&n()})}},{key:"getTextWidth",value:function(e){var t=o(e),n=o(".th-wrap",t),a=o(".th-text",t),i=t.closest(".table-wrap"),r=o(".text-dreamland",i);r.text(a.text()),r.css({fontSize:a.css("font-size"),fontWeight:a.css("font-weight"),fontFamily:a.css("font-family")});var s=n.css("padding-left"),c=n.css("padding-right");return r.width()+(s||0)+(c||0)+2+1}},{key:"showLoading",value:function(e,t,n){if(!e||0===e.length)return!1;var a=e.find(".gm-load-area");a.length>0&&a.remove();var i=o(t||'<div class="loading"><div class="loadInner kernel"></div></div>');return i.addClass("gm-load-area"),e.append(i),window.setTimeout(function(){"function"==typeof n&&n()},100),!0}},{key:"hideLoading",value:function(e,t){return!(!e||0===e.length)&&(window.setTimeout(function(){o(".gm-load-area",e).remove(),"function"==typeof t&&t()},500),!0)}},{key:"updateInteractive",value:function(e,t){var n=["Adjust","Drag"],a=e.closest(".table-wrap");t&&-1!==n.indexOf(t)?a.attr("user-interactive",t):a.removeAttr("user-interactive")}},{key:"updateScrollStatus",value:function(e){var t=e.closest(".table-div");return e.width()===t.width()?(t.css("overflow-x","hidden"),"hidden"):(t.css("overflow-x","auto"),"auto")}},{key:"getVisibleForColumn",value:function(e){return e.isShow?"visible":"none"}},{key:"cloneObject",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"compileFramework",value:function(e,t){try{"function"==typeof e.compileVue&&t.length>0&&e.compileVue(t)}catch(e){this.outLog("框架模板解析异常, 请查看template配置项","error")}}},{key:"calcLayout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"100%",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"100%",a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=e.closest(".table-wrap").get(0),r=i.querySelector(".table-div");i.style.width="calc("+t+")",i.style.height="calc("+n+")",r.style.height="calc(100% - "+(a?"40px":"0px")+")"}}]),e}(),u=new c},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),r=n(20),o=n(6),s=n(12),c=n(21),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(){function e(){a(this,e)}return u(e,[{key:"getVersion",value:function(){return c.a.version}},{key:"getScope",value:function(e){return c.a.scope[i.a.getKey(e)]}},{key:"setScope",value:function(e,t){c.a.scope[i.a.getKey(e)]=t}},{key:"getRowData",value:function(e,t){var n=i.a.getKey(e);if(c.a.responseData[n]){if("element"===i.b.type(t))return c.a.responseData[n][t.getAttribute("cache-key")];if("nodeList"===i.b.type(t)){var a=[];return i.b.each(t,function(e,t){a.push(c.a.responseData[n][t.getAttribute("cache-key")])}),a}return{}}}},{key:"setRowData",value:function(e,t,n){c.a.responseData[i.a.getKey(e)][t]=n}},{key:"getTableData",value:function(e){return c.a.responseData[i.a.getKey(e)]||[]}},{key:"setTableData",value:function(e,t){var n=i.a.getKey(e);c.a.responseData[n]||(c.a.responseData[n]={}),c.a.responseData[n]=t}},{key:"delUserMemory",value:function(e,t){if(!e||0===e.length)return window.localStorage.removeItem("GridManagerMemory"),i.a.outLog("用户记忆被全部清除: "+t,"warn"),!0;var n=this.getSettings(e);i.a.outLog(n.gridManagerName+"用户记忆被清除: "+t,"warn");var a=window.localStorage.getItem("GridManagerMemory");return!!a&&(a=JSON.parse(a),delete a[this.getMemoryKey(n)],window.localStorage.setItem("GridManagerMemory",JSON.stringify(a)),!0)}},{key:"getMemoryKey",value:function(e){return window.location.pathname+window.location.hash+"-"+e.gridManagerName}},{key:"getUserMemory",value:function(e){if(!e||0===e.length)return{};var t=this.getMemoryKey(this.getSettings(e));if(!t)return{};var n=window.localStorage.getItem("GridManagerMemory");return n&&"{}"!==n?(n=JSON.parse(n),{key:t,cache:JSON.parse(n[t]||"{}")}):(e.attr("grid-manager-cache-error","error"),{})}},{key:"saveUserMemory",value:function(e,t){if(t.disableCache)return!1;var a=n.i(i.b)("thead[grid-manager-thead] th",e);if(!a||0===a.length)return i.a.outLog("saveUserMemory:无效的thList,请检查是否正确配置table,thead,th","error"),!1;var r={};if(r.column=t.columnMap,t.supportAjaxPage){var o={};o[t.pageSizeKey]=t.pageData[t.pageSizeKey],r.page=o}var s=JSON.stringify(r),c=window.localStorage.getItem("GridManagerMemory");return c=c?JSON.parse(c):{},c[this.getMemoryKey(t)]=s,window.localStorage.setItem("GridManagerMemory",JSON.stringify(c)),s}},{key:"initSettings",value:function(e,t){var n=this,a=new r.a;a.textConfig=new r.b,i.b.extend(!0,a,t),this.setSettings(e,a),a.supportAutoOrder&&a.columnData.unshift(s.a.getColumn(a)),a.supportCheckbox&&a.columnData.unshift(o.a.getColumn(a)),a.columnMap={},a.columnData.forEach(function(e,t){a.columnMap[e.key]=e,a.columnMap[e.key].isShow=e.isShow||void 0===e.isShow,a.columnMap[e.key].index=t});return function(){if(!a.disableCache){var t=n.getUserMemory(e),r=t.cache&&t.cache.column?t.cache.column:{},o=Object.keys(r),s=Object.keys(a.columnMap);if(0!==o.length){var c=!0;o.length!==s.length&&(c=!1),c&&i.b.each(a.columnMap,function(e,t){if(!r[e]||r[e].text!==t.text||r[e].align!==t.align||r[e].sorting!==t.sorting||r[e].remind!==t.remind||JSON.stringify(r[e].filter)!==JSON.stringify(t.filter)||r[e].template&&r[e].template!==t.template)return c=!1,!1}),c?i.b.extend(!0,a.columnMap,r):n.delUserMemory(e,"存储记忆项与配置项[columnData]不匹配")}}}(),this.setSettings(e,a),a}},{key:"getSettings",value:function(e){return e&&0!==e.length?i.b.extend(!0,{},c.a.settings[i.a.getKey(e)]||{}):{}}},{key:"setSettings",value:function(e,t){c.a.settings[i.a.getKey(e)]=i.b.extend(!0,{},t)}},{key:"update",value:function(e,t){t||(t=this.getSettings(e)),t.columnMap=this.reworkColumnMap(e,t.columnMap),this.setSettings(e,t),this.saveUserMemory(e,t)}},{key:"reworkColumnMap",value:function(e,t){if(!t||i.b.isEmptyObject(t))return void i.a.outLog("columnMap 为无效数据","error");var a=null;return i.b.each(t,function(t,r){a=n.i(i.b)('thead[grid-manager-thead] th[th-name="'+r.key+'"]',e),r.width=a.width()+"px",r.index=a.index(),r.isShow="visible"===a.attr("th-visible")}),t}},{key:"cleanTableCacheForVersion",value:function(){var e=window.localStorage.getItem("GridManagerVersion");e||window.localStorage.setItem("GridManagerVersion",c.a.version),e&&e!==c.a.version&&(this.delUserMemory(null,"版本已升级,原全部缓存被自动清除"),window.localStorage.setItem("GridManagerVersion",c.a.version))}}]),e}();t.a=new l},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),r=n(11),o=n(4),s=n(5),c=n(1),u=n(7),l=n(6),d=n(8),f=n(12),h=n(13),g=n(14),p=n(10),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=function(){function e(){a(this,e)}return v(e,[{key:"refresh",value:function(e,t){var a=this,r=c.a.getSettings(e),o=e.closest(".table-wrap");n.i(i.b)(".footer-toolbar .refresh-action",o).addClass("refreshing"),i.a.showLoading(o,r.loadingTemplate);var s=this.transformToPromise(e,r);r.ajax_beforeSend(s),s.then(function(n){a.driveDomForSuccessAfter(e,r,n,t),r.ajax_success(n),r.ajax_complete(n),i.a.hideLoading(o),a.removeRefreshingClass(o)}).catch(function(e){r.ajax_error(e),r.ajax_complete(e),i.a.hideLoading(o),a.removeRefreshingClass(o)})}},{key:"transformToPromise",value:function(e,t){var n=function(){var e=i.b.extend(!0,{},t.query);return t.supportAjaxPage&&(e[t.currentPageKey]=t.pageData[t.currentPageKey],e[t.pageSizeKey]=t.pageData[t.pageSizeKey]),i.b.isEmptyObject(t.sortData)||(t.mergeSort?(e[t.sortKey]="",i.b.each(t.sortData,function(n,a){e[t.sortKey]=e[t.sortKey]+(e[t.sortKey]?",":"")+n+":"+a})):i.b.each(t.sortData,function(n,a){e[""+t.sortKey+n]=a})),e=t.requestHandler(i.a.cloneObject(e))}();t.supportAjaxPage&&i.b.each(t.pageData,function(e,a){t.pageData[e]=n[e]||a}),i.b.each(t.sortData,function(e,a){t.sortData[e]=n[""+t.sortKey+e]||a}),c.a.setSettings(e,t);var a="function"==typeof t.ajax_data?t.ajax_data(t,n):t.ajax_data;return"string"==typeof a?function(e){return"POST"!==t.ajax_type.toUpperCase()||t.ajax_headers["Content-Type"]||(t.ajax_headers["Content-Type"]="application/x-www-form-urlencoded"),new Promise(function(n,r){i.b.ajax({url:a,type:t.ajax_type,data:e,headers:t.ajax_headers,xhrFields:t.ajax_xhrFields,cache:!0,success:function(e){n(e)},error:function(e,t,n){r(e,t,n)}})})}(n):"function"==typeof a.then?a:"object"===i.b.type(a)||"array"===i.b.type(a)?new Promise(function(e){e(a)}):void 0}},{key:"removeRefreshingClass",value:function(e){var t=n.i(i.b)(".footer-toolbar .refresh-action",e);window.setTimeout(function(){t.removeClass("refreshing")},2e3)}},{key:"cleanData",value:function(e){var t=c.a.getSettings(e);this.insertEmptyTemplate(e,t),t.supportCheckbox&&l.a.resetDOM(e,t,[]),t.supportAjaxPage&&(s.a.resetPageData(e,t,0),r.a.updateMenuPageStatus(t.gridManagerName,t))}},{key:"driveDomForSuccessAfter",value:function(e,t,n,a){if(!n)return void i.a.outLog("请求数据失败！请查看配置参数[ajax_data]是否配置正确，并查看通过该地址返回的数据格式是否正确","error");var o="string"==typeof n?JSON.parse(n):n;o=t.responseHandler(i.a.cloneObject(o));var c=o[t.dataKey];c&&0!==c.length?this.renderTableBody(e,t,c):(this.insertEmptyTemplate(e,t),o[t.totalsKey]=0),t.supportCheckbox&&l.a.resetDOM(e,t,c),t.supportAjaxPage&&(s.a.resetPageData(e,t,o[t.totalsKey]),r.a.updateMenuPageStatus(t.gridManagerName,t)),"function"==typeof a&&a(o)}},{key:"insertEmptyTemplate",value:function(e,t){var a=n.i(i.b)('th[th-visible="visible"]',e).length;n.i(i.b)("tbody",e).html(i.a.getEmptyHtml(a,t.emptyTemplate))}},{key:"renderTableBody",value:function(e,t,a){var r=null;if(t.supportAutoOrder){var o=t.pageData,s=1;o&&o[t.pageSizeKey]&&o[t.currentPageKey]&&(s=o[t.pageSizeKey]*(o[t.currentPageKey]-1)+1),a=a.map(function(e,t){return e[f.a.key]=s+t,e})}t.supportCheckbox&&(a=a.map(function(e){return e[l.a.key]=!1,e})),c.a.setTableData(e,a);var u=n.i(i.b)("tbody",e).get(0);u.innerHTML="";var d=[];try{i.b.each(a,function(e,a){var o=document.createElement("tr");if(o.setAttribute("cache-key",e),void 0!==t.topFullColumn.template){var s=document.createElement("tr");s.setAttribute("top-full-column","true");var c=document.createElement("tr");c.setAttribute("top-full-column-interval","true"),c.innerHTML='<td colspan="'+t.columnData.length+'"><div></div></td>',u.appendChild(c),o.setAttribute("top-full-column","false");var l=t.topFullColumn.template;l="function"==typeof l?l(a):l,s.innerHTML='<td colspan="'+t.columnData.length+'"><div class="full-column-td">'+l+"</div></td>",t.topFullColumn.useCompile&&d.push({el:s,row:a}),u.appendChild(s)}var f=[];i.b.each(t.columnMap,function(e,t){r=t.template,r="function"==typeof r?r(a[t.key],a):"string"==typeof r?r:a[t.key];var o=null;t.isAutoCreate?o=n.i(i.b)(r).get(0):(o=n.i(i.b)('<td gm-create="false"></td>').get(0),"element"===i.b.type(r)?o.appendChild(r):o.innerHTML=void 0===r?"":r),t.align&&o.setAttribute("align",t.align),f[t.index]=o,t.useCompile&&d.push({el:o,row:a})}),f.forEach(function(e){o.appendChild(e)}),u.appendChild(o)})}catch(e){i.a.outLog(e,"error")}this.bindEvent(e),this.initVisible(e),i.a.compileFramework(t,d)}},{key:"bindEvent",value:function(e){n.i(i.b)("[gm-click]",e).unbind("click"),n.i(i.b)("[gm-click]",e).bind("click",function(){var t=c.a.getRowData(e,this.parentNode.parentNode),n=c.a.getScope(e)||window,a=n[this.getAttribute("gm-click")];"function"==typeof a&&a.call(n,t)})}},{key:"createDOM",value:function(e){var t=c.a.getSettings(e);e.wrap('<div class="table-wrap">\n                            <div class="table-div"></div>\n                            <span class="text-dreamland"></span>\n                        </div>'),i.a.calcLayout(e,t.width,t.height,t.supportAjaxPage);var a=document.createElement("thead");a.setAttribute("grid-manager-thead",""),a.appendChild(document.createElement("tr")),e.append(a);var r=e.find("thead[grid-manager-thead] tr"),v="",b=[];t.disableCache?i.b.each(t.columnMap,function(e,t){b.push(t)}):i.b.each(t.columnMap,function(e,t){b[t.index]=t}),h.a.enable=!1,g.a.enable=!1,p.a.enable=!1,i.b.each(b,function(e,n){var a=document.createElement("th"),o=document.createElement("div");o.className="th-wrap";var s=document.createElement("span");switch(s.className="th-text","string"==typeof n.remind&&""!==n.remind&&(a.setAttribute("remind",n.remind),h.a.enable=!0),"string"==typeof n.sorting&&(g.a.enable=!0,n.sorting===t.sortDownText?(a.setAttribute("sorting",t.sortDownText),t.sortData[n.key]=t.sortDownText):n.sorting===t.sortUpText?(a.setAttribute("sorting",t.sortUpText),t.sortData[n.key]=t.sortUpText):a.setAttribute("sorting","")),"object"===i.b.type(n.filter)&&(p.a.enable=!0,a.setAttribute("filter",""),void 0===n.filter.selected?n.filter.selected=t.query[n.key]:t.query[n.key]=n.filter.selected),n.width&&a.setAttribute("width",n.width),n.align&&a.setAttribute("align",n.align),v=i.a.getVisibleForColumn(n),n.key){case f.a.key:a.setAttribute("gm-create","true"),a.setAttribute("th-name",f.a.key),a.setAttribute("th-visible",v),a.setAttribute("gm-order","true"),s.innerHTML=f.a.getThString(t);break;case l.a.key:a.setAttribute("gm-create","true"),a.setAttribute("th-name",l.a.key),a.setAttribute("th-visible",v),a.setAttribute("gm-checkbox","true"),s.innerHTML=l.a.getThString(t);break;default:a.setAttribute("gm-create","false"),a.setAttribute("th-name",n.key),a.setAttribute("th-visible",v),s.innerHTML=n.text}!t.supportDrag||m||k||s.classList.add("drag-action"),o.appendChild(s),a.appendChild(o),r.append(a)});var y=document.createElement("tbody");e.append(y),c.a.setSettings(e,t),t.supportCheckbox&&l.a.bindCheckboxEvent(e);var m=null,k=null,w=n.i(i.b)("thead[grid-manager-thead]",e),x=n.i(i.b)("th",w),T=e.closest(".table-wrap");t.disableBorder&&T.addClass("disable-border"),t.supportConfig&&T.append(u.a.html),t.supportAjaxPage&&(T.append(s.a.createHtml(t)),s.a.initAjaxPage(e,t)),t.supportExport&&T.append(d.a.html);var S=n.i(i.b)(".config-list",T),C=null,D=0,M=[];i.b.each(x,function(e,a){C=n.i(i.b)(a);var r=n.i(i.b)(".th-wrap",C),s=C.attr("th-name"),c=C.text(),l=t.columnMap[C.attr("th-name")];l.useCompile&&M.push({el:C.find(".th-text").get(0)});var d=l.isAutoCreate||l.isAutoCreate;if(t.supportConfig&&S.append(u.a.createColumn(s,c)),d||"string"!==i.b.type(l.remind)||r.append(n.i(i.b)(h.a.createHtml(c,l.remind))),!d&&"string"===i.b.type(l.sorting)){var f=n.i(i.b)(g.a.html);switch(l.sorting){case t.sortUpText:f.addClass("sorting-up");break;case t.sortDownText:f.addClass("sorting-down")}r.append(f)}if(!d&&l.filter&&"object"===i.b.type(l.filter)){var v=n.i(i.b)(p.a.createHtml(t,l.filter));r.append(v)}if(t.supportAdjust&&!d){var b=n.i(i.b)(o.a.html);e===x.length-1&&b.hide(),r.append(b)}if(d)D=50;else{var y=i.a.getTextWidth(C),m=C.width();D=m>y?m:y}C.removeAttr("width"),C.width(D)}),i.a.compileFramework(t,M),e.removeClass("GridManager-loading"),e.addClass("GridManager-ready")}},{key:"initVisible",value:function(e){var t=n.i(i.b)("tbody tr",e),a=null,r=null,o="visible",s=c.a.getSettings(e);i.b.each(s.columnMap,function(s,c){a=n.i(i.b)('th[th-name="'+c.key+'"]',e),o=i.a.getVisibleForColumn(c),a.attr("th-visible",o),i.b.each(t,function(e,t){r=n.i(i.b)("td",t).eq(a.index()),r.attr("td-visible",o)})})}}]),e}();t.a=new b},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(){function e(){a(this,e)}return r(e,[{key:"getLanguage",value:function(e){return e.i18n}},{key:"getText",value:function(e,t,n){return e.textConfig[t][n||this.getLanguage(e)]||""}},{key:"i18nText",value:function(e,t,n,a,r){var o=this,s=[];if(3===arguments.length&&"array"===i.b.type(arguments[2]))s=arguments[2];else if(arguments.length>2)for(var c=2;c<arguments.length;c++)s.push(arguments[c]);var u="";try{return u=o.getText(e,t),s&&0!==s.length?u=u.replace(/{\d+}/g,function(e){var t=s[e.match(/\d+/)];return void 0===t?"":t}):u}catch(n){return i.a.outLog("未找到与"+t+"相匹配的"+o.getLanguage(e)+"语言","warn"),""}}}]),e}();t.a=new o},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),r=n(1),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=function(){function e(){a(this,e)}return o(e,[{key:"init",value:function(e){this.__bindAdjustEvent(e)}},{key:"resetAdjust",value:function(e){if(!e||0===e.length)return!1;var t=n.i(i.b)('thead [th-visible="visible"]',e),a=n.i(i.b)(".adjust-action",t);if(!a||0===a.length)return!1;a.show(),a.eq(a.length-1).hide(),i.a.updateScrollStatus(e)}},{key:"destroy",value:function(e){e.unbind("mouseup mouseleave"),e.unbind("mousemove"),e.off("mousedown",".adjust-action")}},{key:"__bindAdjustEvent",value:function(e){var t=this;e.off("mousedown",".adjust-action"),e.on("mousedown",".adjust-action",function(e){var a=n.i(i.b)(this),o=a.closest("th"),s=o.parent(),c=s.closest("table"),u=r.a.getSettings(c),l=s.find('th[th-visible="visible"]'),d=l.eq(o.index(l)+1),f=i.a.getColTd(o);return u.adjustBefore(e),o.addClass("adjust-selected"),f.addClass("adjust-selected"),i.a.updateInteractive(c,"Adjust"),t.__runMoveEvent(c,o,d),t.__runStopEvent(c,o,f),!1})}},{key:"__runMoveEvent",value:function(e,t,a){var r=null,o=null,s=i.a.getTextWidth(t),c=i.a.getTextWidth(a);e.unbind("mousemove"),e.bind("mousemove",function(u){e.addClass("no-select-text"),r=u.clientX-t.offset().left,r=Math.ceil(r),o=a.width()+t.width()-r,o=Math.ceil(o),r<s||(o<c&&(o=c),r!==t.width()&&(r+o<t.width()+a.width()&&(o=t.width()+a.width()-r),t.width(r),a.width(o),1===t.closest("thead["+i.a.getSetTopAttr()+"]").length&&(n.i(i.b)('thead[grid-manager-thead] th[th-name="'+t.attr("th-name")+'"]',e).width(r),n.i(i.b)('thead[grid-manager-thead] th[th-name="'+a.attr("th-name")+'"]',e).width(o),n.i(i.b)("thead["+i.a.getSetTopAttr()+"]",e).width(n.i(i.b)("thead[grid-manager-thead]",e).width()))))})}},{key:"__runStopEvent",value:function(e,t,n){e.unbind("mouseup mouseleave"),e.bind("mouseup mouseleave",function(a){var o=r.a.getSettings(e);e.unbind("mousemove mouseleave"),t.hasClass("adjust-selected")&&o.adjustAfter(a),t.removeClass("adjust-selected"),n.removeClass("adjust-selected"),e.removeClass("no-select-text"),i.a.updateInteractive(e),i.a.updateScrollStatus(e),r.a.update(e,o)})}},{key:"html",get:function(){return'<span class="adjust-action"></span>'}}]),e}();t.a=new s},function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(0),o=n(2),s=n(1),c=n(3),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(){function e(){i(this,e)}return u(e,[{key:"createHtml",value:function(e){return'<div class="footer-toolbar">\n\t\t\t\t\t\t'+(e.showFooterRefresh?'<div class="refresh-action"><i class="iconfont icon-refresh"></i></div>':"")+"\n\t\t\t\t\t\t"+(e.showFooterGoTo?'<div class="goto-page">\n\t\t\t\t\t\t\t'+c.a.i18nText(e,"goto-first-text")+'\n\t\t\t\t\t\t\t<input type="text" class="gp-input"/>\n\t\t\t\t\t\t\t'+c.a.i18nText(e,"goto-last-text")+"\n\t\t\t\t\t\t</div>":"")+"\n\t\t\t\t\t\t"+(e.showFooterPageSize?this.__getPageSizeHtml(e):"")+"\n\t\t\t\t\t\t"+(e.showFooterCheckedInfo?'<div class="toolbar-info checked-info"></div>':"")+"\n\t\t\t\t\t\t"+(e.showFooterPageInfo?'<div class="toolbar-info page-info"></div>':"")+'\n\t\t\t\t\t\t<div class="ajax-page"><ul class="pagination"></ul></div>\n\t\t\t\t\t</div>'}},{key:"initAjaxPage",value:function(e,t){if(t.disableCache){var n,i=(n={},a(n,t.pageSizeKey,t.pageSize||10),a(n,t.currentPageKey,1),n);r.b.extend(t,{pageData:i}),s.a.setSettings(e,t)}else this.__configPageForCache(e,t);this.__bindPageJumpEvent(e),this.__bindSetPageSizeEvent(e)}},{key:"resetPageData",value:function(e,t,a){var i=this;if(!isNaN(parseInt(a,10))){var o=this.__getPageData(t,a);i.__createPaginationDOM(e,t,o),i.__resetPSize(e,t,o),i.__resetPageInfo(e,t,o),s.a.setSettings(e,r.b.extend(!0,t,{pageData:o}));var c=e.closest(".table-wrap");n.i(r.b)(".footer-toolbar",c).css("visibility","visible")}}},{key:"gotoPage",value:function(e,t,n){(!n||n<1)&&(n=1),n>t.pageData.tPage&&(n=t.pageData.tPage),t.pageData[t.currentPageKey]=n,t.pageData[t.pageSizeKey]=t.pageData[t.pageSizeKey]||t.pageSize,s.a.setSettings(e,t);var a=r.b.extend({},t.query,t.sortData,t.pageData);t.pagingBefore(a),o.a.refresh(e,function(){t.pagingAfter(a)})}},{key:"__createPaginationDOM",value:function(e,t,a){var i=e.closest(".table-wrap"),o=n.i(r.b)(".footer-toolbar",i);n.i(r.b)(".pagination",o).html(this.__joinPagination(t,a))}},{key:"__joinPagination",value:function(e,t){var n=Number(t[e.currentPageKey]||0),a=Number(t.tPage||0),i="",r="",o="first-page",s="previous-page";1===n&&(o+=" disabled",s+=" disabled"),i+='<li c-page="1" class="'+o+'">\n\t\t\t\t\t'+c.a.i18nText(e,"first-page")+'\n\t\t\t\t</li>\n\t\t\t\t<li c-page="'+(n-1)+'" class="'+s+'">\n\t\t\t\t\t'+c.a.i18nText(e,"previous-page")+"\n\t\t\t\t</li>";var u=1,l=a;for(n>4&&(i+='<li c-page="1">\n\t\t\t\t\t\t1\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="disabled">\n\t\t\t\t\t\t...\n\t\t\t\t\t</li>',u=n-2),a-n>4&&(l=n+2,r+='<li class="disabled">\n\t\t\t\t\t\t...\n\t\t\t\t\t</li>\n\t\t\t\t\t<li c-page="'+a+'">\n\t\t\t\t\t\t'+a+"\n\t\t\t\t\t</li>"),u;u<=l;u++)i+=u!==n?'<li c-page="'+u+'">'+u+"</li>":'<li class="active">'+n+"</li>";i+=r;var d="next-page",f="last-page";return n>=a&&(d+=" disabled",f+=" disabled"),i+='<li c-page="'+(n+1)+'" class="'+d+'">\n\t\t\t\t\t'+c.a.i18nText(e,"next-page")+'\n\t\t\t\t</li>\n\t\t\t\t<li c-page="'+a+'" class="'+f+'">\n\t\t\t\t\t'+c.a.i18nText(e,"last-page")+"\n\t\t\t\t</li>"}},{key:"__getPageSizeHtml",value:function(e){var t=e.sizeData;if(!t||0===t.length)return r.a.outLog("渲染失败：参数[sizeData]配置错误","error"),"";var n='<div class="change-size"><select name="pSizeArea">';return r.b.each(t,function(e,t){n+='<option value="'+t+'">'+t+"</option>"}),n+="</select></div>"}},{key:"__bindPageJumpEvent",value:function(e){var t=e.closest(".table-wrap"),a=n.i(r.b)(".footer-toolbar",t);this.__bindPageClick(e,a),this.__bindInputEvent(e,a),this.__bindRefreshEvent(a)}},{key:"__bindPageClick",value:function(e,t){var a=this;t.off("click","li"),t.on("click","li",function(){var t=n.i(r.b)(this),i=t.attr("c-page");if(!i||!Number(i)||t.hasClass("disabled"))return r.a.outLog("指定页码无法跳转,已停止。原因:1、可能是当前页已处于选中状态; 2、所指向的页不存在","info"),!1;i=window.parseInt(i),a.gotoPage(e,s.a.getSettings(e),i)})}},{key:"__bindInputEvent",value:function(e,t){var a=this,i=n.i(r.b)(".gp-input",t);i.unbind("keyup"),i.bind("keyup",function(){if(13===event.which){var t=parseInt(this.value,10);a.gotoPage(e,s.a.getSettings(e),t),this.value=""}})}},{key:"__bindRefreshEvent",value:function(e){var t=n.i(r.b)(".refresh-action",e);t.unbind("click"),t.bind("click",function(e){var t=n.i(r.b)(e.target).closest(".table-wrap"),a=n.i(r.b)("table[grid-manager]",t);o.a.refresh(a)})}},{key:"__bindSetPageSizeEvent",value:function(e){var t=e.closest(".table-wrap"),a=n.i(r.b)(".footer-toolbar",t),i=n.i(r.b)("select[name=pSizeArea]",a);if(!i||0===i.length)return!1;i.unbind("change"),i.bind("change",function(t){var a=n.i(r.b)(t.target),i=a.closest(".table-wrap"),c=n.i(r.b)("table[grid-manager]",i),u=s.a.getSettings(e);u.pageData={},u.pageData[u.currentPageKey]=1,u.pageData[u.pageSizeKey]=window.parseInt(a.val()),s.a.saveUserMemory(c,u),s.a.setSettings(e,u);var l=r.b.extend({},u.query,u.sortData,u.pageData);u.pagingBefore(l),o.a.refresh(c,function(){u.pagingAfter(l)})})}},{key:"__resetPSize",value:function(e,t,a){var i=e.closest(".table-wrap"),o=n.i(r.b)(".footer-toolbar",i),s=n.i(r.b)('select[name="pSizeArea"]',o);return!(!s||0===s.length)&&(s.val(a[t.pageSizeKey]||10),s.show(),!0)}},{key:"__resetPageInfo",value:function(e,t,a){var i=n.i(r.b)(".footer-toolbar .page-info",e.closest(".table-wrap")),o=1===a[t.currentPageKey]?1:(a[t.currentPageKey]-1)*a[t.pageSizeKey]+1,s=a[t.currentPageKey]*a[t.pageSizeKey],u=a.tSize,l=c.a.i18nText(t,"page-info",[o,s,u]);i.html(l)}},{key:"__getPageData",value:function(e,t){var n=e.pageData[e.pageSizeKey]||e.pageSize,a=Math.ceil(t/n),i=e.pageData[e.currentPageKey]||1,r={};return r.tPage=a,r[e.currentPageKey]=i>a?1:i,r[e.pageSizeKey]=n,r.tSize=t,r}},{key:"__configPageForCache",value:function(e,t){var n=s.a.getUserMemory(e),a=n.cache,i=null;i=a&&a.page&&a.page[t.pageSizeKey]?a.page[t.pageSizeKey]:t.pageSize||10;var o={};o[t.pageSizeKey]=i,o[t.currentPageKey]=1,r.b.extend(t,{pageData:o}),s.a.setSettings(e,t)}},{key:"destroy",value:function(e){var t=e.closest(".table-wrap"),a=n.i(r.b)(".footer-toolbar",t),i=n.i(r.b)(".gp-input",a),o=n.i(r.b)(".refresh-action",a),s=n.i(r.b)("select[name=pSizeArea]",a);a.off("click","li"),i.unbind("keyup"),o.unbind("click"),s.unbind("change")}}]),e}();t.a=new l},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),r=n(3),o=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=function(){function e(){a(this,e)}return s(e,[{key:"getCheckedTr",value:function(e){return e.get(0).querySelectorAll('tbody tr[checked="true"]')}},{key:"getCheckedData",value:function(e){return o.a.getRowData(e,this.getCheckedTr(e))}},{key:"getThString",value:function(e){return'<input type="checkbox"/>\n                <span style="display: none">\n                    '+r.a.i18nText(e,"checkall-text")+"\n                </span>"}},{key:"getColumn",value:function(e){return{key:this.key,text:r.a.getText(e,"checkall-text"),isAutoCreate:!0,isShow:!0,width:"50px",align:"center",template:function(e){return'<td gm-checkbox="true" gm-create="true"><input type="checkbox" '+(e?'checked="checked"':"")+"/></td>"}}}},{key:"bindCheckboxEvent",value:function(e){var t=this,a=o.a.getSettings(e);e.off("click",'th[gm-checkbox="true"] input[type="checkbox"]'),e.on("click",'th[gm-checkbox="true"] input[type="checkbox"]',function(){a.checkedBefore(t.getCheckedData(e)),a.checkedAllBefore(t.getCheckedData(e));var n=t.resetData(e,this.checked,!0);t.resetDOM(e,a,n),a.checkedAfter(t.getCheckedData(e)),a.checkedAllAfter(t.getCheckedData(e))}),e.off("click",'td[gm-checkbox="true"] input[type="checkbox"]'),e.on("click",'td[gm-checkbox="true"] input[type="checkbox"]',function(){a.checkedBefore(t.getCheckedData(e));var r=t.resetData(e,this.checked,!1,n.i(i.b)(this).closest("tr").attr("cache-key"));t.resetDOM(e,a,r),a.checkedAfter(t.getCheckedData(e))})}},{key:"resetData",value:function(e,t,n,a){var i=this,r=o.a.getTableData(e);return n&&!a&&r.forEach(function(e){e[i.key]=t}),!n&&a&&(r[a][this.key]=t),o.a.setTableData(e,r),r}},{key:"resetDOM",value:function(e,t,a){var o=this,s=a&&a.length>0;a&&a.forEach(function(t,a){var r=n.i(i.b)('tbody tr[cache-key="'+a+'"]',e),c=n.i(i.b)('td[gm-checkbox="true"] input[type="checkbox"]',r);r.attr("checked",t[o.key]),c.prop("checked",t[o.key]),t[o.key]||(s=!1)}),n.i(i.b)('thead tr th[gm-checkbox="true"] input[type="checkbox"]',e).prop("checked",s);var c=n.i(i.b)(".footer-toolbar .toolbar-info.checked-info",e.closest(".table-wrap")),u=0;a.forEach(function(e){e[o.key]&&u++}),c.html(r.a.i18nText(t,"checked-info",u))}},{key:"destroy",value:function(e){e.off("click",'th[gm-checkbox="true"] input[type="checkbox"]'),e.off("click",'td[gm-checkbox="true"] input[type="checkbox"]')}},{key:"key",get:function(){return"gm_checkbox"}}]),e}();t.a=new c},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),r=n(1),o=n(4),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=function(){function e(){a(this,e)}return s(e,[{key:"createColumn",value:function(e,t){return'<li th-name="'+e+'">\n                    <input type="checkbox"/>\n                    <label>\n                        <span class="fake-checkbox"></span>\n                        '+t+"\n                    </label>\n                </li>"}},{key:"init",value:function(e){this.__bindConfigEvent(e)}},{key:"__bindConfigEvent",value:function(e){var t=this,a=e.closest("div.table-wrap"),s=n.i(i.b)(".config-action",a);s.unbind("click"),s.bind("click",function(){var e=n.i(i.b)(this),a=e.closest(".table-wrap");t.toggle(a)}),n.i(i.b)(".config-list li",a).unbind("click"),n.i(i.b)(".config-list li",a).bind("click",function(){var e=n.i(i.b)(this),t=e.attr("th-name"),a=e.find('input[type="checkbox"]'),s=e.closest(".table-wrap"),c=n.i(i.b)(".table-div",s),u=n.i(i.b)("[grid-manager]",s),l=r.a.getSettings(u),d=n.i(i.b)('thead[grid-manager-thead] th[th-name="'+t+'"]',u);if(e.hasClass("no-click"))return!1;e.closest(".config-list").find(".no-click").removeClass("no-click");var f=!a.prop("checked");c.addClass("config-editing"),i.a.setAreVisible(d,f,function(){c.removeClass("config-editing")});var h=n.i(i.b)('.config-area input[type="checkbox"]:checked',s);1===h.length&&h.parent().addClass("no-click"),l.supportAdjust&&o.a.resetAdjust(u),n.i(i.b)(".sa-inner",s).width("100%");var g=n.i(i.b)('thead[grid-manager-thead] th[th-visible="visible"]',u);i.b.each(g,function(e,t){"true"===t.getAttribute("gm-create")?t.style.width="50px":t.style.width="auto"}),i.b.each(g,function(e,t){var a=i.a.getTextWidth(t),r=n.i(i.b)(t).width();r<a?n.i(i.b)(t).width(a):n.i(i.b)(t).width(r)}),r.a.update(u,l);var p=n.i(i.b)("thead["+i.a.getSetTopAttr()+"]",u);1===p.length&&(p.remove(),c.trigger("scroll"))})}},{key:"toggle",value:function(e){var t=n.i(i.b)("table[grid-manager]",e),a=r.a.getSettings(t),o=n.i(i.b)(".config-area",e);if("block"===o.css("display"))return o.hide(),!1;var s=null,c=null,u=0;i.b.each(a.columnMap,function(e,t){if(s=n.i(i.b)('li[th-name="'+t.key+'"]',o),c=n.i(i.b)('input[type="checkbox"]',s),t.isShow)return s.addClass("checked-li"),c.prop("checked",!0),void u++;s.removeClass("checked-li"),c.prop("checked",!1)});var l=n.i(i.b)(".checked-li",o);1===u?l.addClass("no-click"):l.removeClass("no-click"),o.show()}},{key:"destroy",value:function(e){var t=e.closest("div.table-wrap");n.i(i.b)(".config-action",t).unbind("click"),n.i(i.b)(".config-list li",t).unbind("click")}},{key:"html",get:function(){return'<div class="config-area">\n\t\t\t\t\t\t<span class="config-action">\n\t\t\t\t\t\t\t<i class="iconfont icon-close"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ul class="config-list"></ul>\n\t\t\t\t\t</div>'}}]),e}();t.a=new c},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),r=n(2),o=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=function(){function e(){a(this,e)}return s(e,[{key:"getHref",value:function(e){return this.URI+window.btoa(unescape(encodeURIComponent(e||"")))}},{key:"getDownload",value:function(e,t){return t||(t=o.a.getSettings(e).gridManagerName),t+".xls"}},{key:"createExportHTML",value:function(e,t){return'<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">\n\t\t\t\t\t\t\t\t<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></head>\n\t\t\t\t\t\t\t\t<body>\n\t\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t'+e+"\n\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t"+t+"\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</body>\n\t\t\t\t\t\t\t</html>"}},{key:"__exportGridToXls",value:function(e,t,a){var o=n.i(i.c)("#gm-export-action");if(0===o.length)return r.a.outLog("导出失败，请查看配置项:supportExport是否配置正确","error"),!1;var s="",c="",u=n.i(i.c)('thead[grid-manager-thead] th[th-visible="visible"][gm-create="false"]',e),l=null,d=null;l=a?n.i(i.c)('tbody tr[checked="true"]',e):n.i(i.c)("tbody tr",e),i.c.each(u,function(e,t){s+="<th>"+t.getElementsByClassName("th-text")[0].textContent+"</th>"}),i.c.each(l,function(e,t){d=n.i(i.c)('td[gm-create="false"][td-visible="visible"]',t),c+="<tr>",i.c.each(d,function(e,t){c+="<td>"+t.textContent+"</td>"}),c+="</tr>"});var f=this.createExportHTML(s,c);return o.prop("href",this.getHref(f)),o.prop("download",this.getDownload(e,t)),o.get(0).click(),!0}},{key:"html",get:function(){return'<a href="" download="" id="gm-export-action"></a>'}},{key:"URI",get:function(){return"data:application/vnd.ms-excel;base64,"}}]),e}();t.a=new c},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return w});var i=n(23),r=(n.n(i),n(0)),o=n(4),s=n(5),c=n(1),u=n(6),l=n(7),d=n(2),f=n(17),h=n(8),g=n(11),p=n(13),v=n(19),b=n(14),y=n(18),m=n(10),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),w=function(){function e(){a(this,e)}return k(e,[{key:"init",value:function(e,t,a){var i=n.i(r.b)(e);if(!t||r.b.isEmptyObject(t))return void r.a.outLog("init()方法中未发现有效的参数","error");if(!t.columnData||0===t.columnData.length)return void r.a.outLog("请对参数columnData进行有效的配置","error");t.ajax_url&&(r.a.outLog("ajax_url在v2.6.0以后将被废弃, 请使用ajax_data替代","warn"),t.ajax_data=t.ajax_url),t.topFullColumn&&t.topFullColumn.template&&(t.disableHover=!0,t.supportConfig=!1,t.supportAutoOrder=!1,t.supportCheckbox=!1,t.supportDrag=!1,t.supportAdjust=!1),"string"!=typeof t.gridManagerName||""===t.gridManagerName.trim()?t.gridManagerName=r.a.getKey(i):i.attr("grid-manager",t.gridManagerName),c.a.cleanTableCacheForVersion();var o=c.a.initSettings(i,t);return""===o.gridManagerName.trim()?void r.a.outLog("请在html标签中为属性[grid-manager]赋值或在配置项中配置gridManagerName","error"):i.hasClass("GridManager-ready")||i.hasClass("GridManager-loading")?void r.a.outLog("渲染失败,可能该表格已经渲染或正在渲染","error"):(i.addClass("GridManager-loading"),o.disableLine&&i.addClass("disable-line"),this.initTable(i,o),void 0!==i.attr("grid-manager-cache-error")&&window.setTimeout(function(){c.a.saveUserMemory(i,o),i.removeAttr("grid-manager-cache-error")},1e3),void("function"==typeof a&&a(o.query)))}},{key:"initTable",value:function(e,t){d.a.createDOM(e),r.a.updateScrollStatus(e),t.supportAdjust&&o.a.resetAdjust(e),t.supportAdjust&&o.a.init(e),t.supportDrag&&f.a.init(e),b.a.enable&&b.a.init(e),p.a.enable&&p.a.init(e),m.a.enable&&m.a.init(e),t.supportConfig&&l.a.init(e),t.disableHover||y.a.onTbodyHover(e),v.a.init(e),t.supportMenu&&g.a.init(e),t.firstLoading?d.a.refresh(e):d.a.insertEmptyTemplate(e,t)}}],[{key:"get",value:function(e){return c.a.getSettings(n.i(r.b)(e))}},{key:"setScope",value:function(e,t){return c.a.setScope(n.i(r.b)(e),t)}},{key:"getLocalStorage",value:function(e){return c.a.getUserMemory(n.i(r.b)(e))}},{key:"resetLayout",value:function(e,t,a){var i=n.i(r.b)(e),o=c.a.getSettings(i);return r.a.calcLayout(n.i(r.b)(e),t,a,o.supportAjaxPage),r.a.updateScrollStatus(i)}},{key:"clear",value:function(e){return c.a.delUserMemory(n.i(r.b)(e),"通过clear()方法清除")}},{key:"getRowData",value:function(e,t){return c.a.getRowData(n.i(r.b)(e),t)}},{key:"setSort",value:function(e,t,a,i){b.a.__setSort(n.i(r.b)(e),t,a,i)}},{key:"showTh",value:function(e,t){r.a.setAreVisible(n.i(r.b)(t),!0),c.a.update(n.i(r.b)(e))}},{key:"hideTh",value:function(e,t){r.a.setAreVisible(n.i(r.b)(t),!1),c.a.update(n.i(r.b)(e))}},{key:"exportGridToXls",value:function(e,t,a){return h.a.__exportGridToXls(n.i(r.b)(e),t,a)}},{key:"setQuery",value:function(e,t,a,i){var o=n.i(r.b)(e),s=c.a.getSettings(o);"boolean"!=typeof a&&(i=a,a=!0),r.b.extend(s,{query:t}),a&&(s.pageData[s.currentPageKey]=1),c.a.setSettings(o,s),d.a.refresh(o,i)}},{key:"setAjaxData",value:function(e,t,a){var i=n.i(r.b)(e),o=c.a.getSettings(i);r.b.extend(o,{ajax_data:t}),c.a.setSettings(i,o),d.a.refresh(i,a)}},{key:"refreshGrid",value:function(e,t,a){var i=n.i(r.b)(e),o=c.a.getSettings(i);"boolean"!=typeof t&&(a=t,t=!1),t&&(o.pageData.cPage=1,c.a.setSettings(i,o)),d.a.refresh(i,a)}},{key:"getCheckedTr",value:function(e){return u.a.getCheckedTr(n.i(r.b)(e))}},{key:"getCheckedData",value:function(e){return u.a.getCheckedData(n.i(r.b)(e))}},{key:"cleanData",value:function(e){return d.a.cleanData(n.i(r.b)(e))}},{key:"destroy",value:function(e){var t=n.i(r.b)(e);o.a.destroy(t),s.a.destroy(t),u.a.destroy(t),l.a.destroy(t),f.a.destroy(t),y.a.destroy(t),g.a.destroy(t),p.a.destroy(t),v.a.destroy(t),b.a.destroy(t),c.a.setSettings(t,{});var a=t.closest(".table-wrap");t.removeClass("GridManager-ready"),t.html(""),a.after(t),a.remove()}},{key:"version",get:function(){return c.a.getVersion()}}]),e}()},function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(0),o=n(2),s=n(1),c=n(3),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(){function e(){i(this,e),this.enable=!1}return u(e,[{key:"createHtml",value:function(e,t){var n="";return t.selected=t.selected||"",t.option.forEach(function(e){var a=t.selected.split(",");a=a.map(function(e){return e.trim()}),n+='<li>\n                            <label>\n                                <input class="filter-value" name="filter-value" type="'+(t.isMultiple?"checkbox":"radio")+'" '+(-1!==a.indexOf(e.value)?'checked="true"':"")+' value="'+e.value+'"/>\n                                <span class="filter-text">'+e.text+"</span>\n                            </label>\n                        </li>"}),'<div class="filter-action">\n                    <i class="fa-icon iconfont icon-filter"></i>\n                    <div class="fa-con">\n                        <ul class="filter-list">\n                            '+n+'\n                        </ul>\n                        <div class="filter-bottom">\n                            <span class="filter-button filter-submit">'+c.a.i18nText(e,"filter-ok")+'</span>\n                            <span class="filter-button filter-reset">'+c.a.i18nText(e,"filter-reset")+"</span>\n                        </div>\n                    </div>\n                </div>"}},{key:"init",value:function(e){this.__bindFilterEvent(e)}},{key:"__bindFilterEvent",value:function(e){e.off("mousedown",".fa-icon"),e.on("mousedown",".fa-icon",function(e){e.stopPropagation(),e.preventDefault();var t=n.i(r.b)(this),a=t.closest(".filter-action"),i=a.find(".fa-con");"none"!==i.css("display")?i.hide():i.show();var o=n.i(r.b)("body");o.unbind("mousedown"),o.bind("mousedown",function(e){if("fa-con"===e.target.className||1===n.i(r.b)(e.target).closest(".fa-con").length)return!1;o.find(".fa-con").hide()})}),e.off("mouseup",".filter-submit"),e.on("mouseup",".filter-submit",function(){var t=n.i(r.b)(this),i=t.closest(".fa-con"),c=n.i(r.b)(".filter-value",i),u=i.closest("th"),l=u.attr("th-name"),d=[];r.b.each(c,function(e,t){t.checked&&d.push(t.value)});var f=s.a.getSettings(e);r.b.extend(f.query,a({},l,d.join(","))),s.a.setSettings(e,f),o.a.refresh(e),i.hide()}),e.off("mouseup",".filter-reset"),e.on("mouseup",".filter-reset",function(){var t=n.i(r.b)(this),a=t.closest(".fa-con"),i=n.i(r.b)(".filter-value",a),c=a.closest("th"),u=c.attr("th-name");r.b.each(i,function(e,t){t.checked=!1});var l=s.a.getSettings(e);delete l.query[u],s.a.setSettings(e,l),o.a.refresh(e),a.hide()})}},{key:"destroy",value:function(e){e.off("mouseup",".filter-action"),e.off("mouseup",".filter-submit"),e.off("mouseup",".filter-reset")}}]),e}();t.a=new l},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),r=n(1),o=n(3),s=n(8),c=n(5),u=n(7),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=function(){function e(){a(this,e)}return l(e,[{key:"init",value:function(e){var t=r.a.getSettings(e);this.createMenuDOM(t),this.bindRightMenuEvent(e,t)}},{key:"createMenuDOM",value:function(e){var t='<div class="grid-menu" '+this.keyName+'="'+e.gridManagerName+'">';e.supportAjaxPage&&(t+='<span grid-action="refresh-page" refresh-type="previous">\n\t\t\t\t\t\t\t'+o.a.i18nText(e,"previous-page")+'\n\t\t\t\t\t\t\t<i class="iconfont icon-up"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span grid-action="refresh-page" refresh-type="next">\n\t\t\t\t\t\t\t'+o.a.i18nText(e,"next-page")+'\n\t\t\t\t\t\t\t<i class="iconfont icon-down"></i>\n\t\t\t\t\t\t</span>'),t+='<span grid-action="refresh-page" refresh-type="refresh">\n\t\t\t\t\t\t'+o.a.i18nText(e,"refresh")+'\n\t\t\t\t\t\t<i class="iconfont icon-refresh"></i>\n\t\t\t\t\t</span>',e.supportExport&&(t+='<span class="grid-line"></span>\n\t\t\t\t\t\t<span grid-action="export-excel" only-checked="false">\n\t\t\t\t\t\t\t'+o.a.i18nText(e,"save-as-excel")+'\n\t\t\t\t\t\t\t<i class="iconfont icon-xls"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span grid-action="export-excel" only-checked="true">\n\t\t\t\t\t\t\t'+o.a.i18nText(e,"save-as-excel-for-checked")+'\n\t\t\t\t\t\t\t<i class="iconfont icon-xls"></i>\n\t\t\t\t\t\t</span>'),e.supportConfig&&(t+='<span class="grid-line"></span>\n\t\t\t\t\t\t<span grid-action="config-grid">\n\t\t\t\t\t\t\t'+o.a.i18nText(e,"config-grid")+'\n\t\t\t\t\t\t\t<i class="iconfont icon-config"></i>\n\t\t\t\t\t\t</span>'),t+="</div>",n.i(i.b)("body").append(t)}},{key:"bindRightMenuEvent",value:function(e,t){var a=this,o=e.closest(".table-wrap"),l=n.i(i.b)(".grid-menu["+a.keyName+'="'+t.gridManagerName+'"]'),d=n.i(i.b)("body");o.unbind("contextmenu"),o.bind("contextmenu",function(e){if(e.preventDefault(),e.stopPropagation(),"TBODY"!==e.target.nodeName&&0===n.i(i.b)(e.target).closest("tbody").length)return void console.log("contextmenu    !TBODY");var r=n.i(i.b)('[grid-action="export-excel"][only-checked="true"]');0===n.i(i.b)('tbody tr[checked="true"]',n.i(i.b)('table[grid-manager="'+t.gridManagerName+'"]')).length?r.addClass("disabled"):r.removeClass("disabled");var s=l.width(),c=l.height(),u=document.documentElement.offsetHeight,f=document.documentElement.offsetWidth,h=u<e.clientY+c?e.clientY-c:e.clientY,g=f<e.clientX+s?e.clientX-s:e.clientX;l.css({top:h+o.get(0).scrollTop+(document.body.scrollTop||document.documentElement.scrollTop),left:g+o.get(0).scrollLeft+(document.body.scrollLeft||document.documentElement.scrollLeft)}),n.i(i.b)(".grid-menu["+a.keyName+"]").hide(),l.show(),d.off("mousedown.gridMenu"),d.on("mousedown.gridMenu",function(e){var t=n.i(i.b)(e.target);t.hasClass(".grid-menu")||1===t.closest(".grid-menu").length||(d.off("mousedown.gridMenu"),l.hide())})});var f=n.i(i.b)('[grid-action="refresh-page"]');f.unbind("click"),f.bind("click",function(e){if(a.isDisabled(this,e))return!1;var t=n.i(i.b)(this).closest(".grid-menu"),o=n.i(i.b)('table[grid-manager="'+t.attr(a.keyName)+'"]'),s=this.getAttribute("refresh-type"),u=r.a.getSettings(o),l=u.pageData[u.currentPageKey];"previous"===s&&l>1?l-=1:"next"===s&&l<u.pageData.tPage?l+=1:"refresh"===s&&(l=l),c.a.gotoPage(o,u,l),d.off("mousedown.gridMenu"),t.hide()}),t.supportExport&&function(){var e=n.i(i.b)('[grid-action="export-excel"]');e.unbind("click"),e.bind("click",function(e){if(a.isDisabled(this,e))return!1;var t=n.i(i.b)(this).closest(".grid-menu"),r=n.i(i.b)('table[grid-manager="'+t.attr(a.keyName)+'"]'),o=!1;"true"===this.getAttribute("only-checked")&&(o=!0),s.a.__exportGridToXls(r,void 0,o),d.off("mousedown.gridMenu"),t.hide()})}(),t.supportConfig&&function(){var e=n.i(i.b)('[grid-action="config-grid"]');e.unbind("click"),e.bind("click",function(e){if(a.isDisabled(this,e))return!1;var t=n.i(i.b)(this).closest(".grid-menu"),r=n.i(i.b)('table[grid-manager="'+t.attr(a.keyName)+'"]');u.a.toggle(r.closest(".table-wrap")),d.off("mousedown.gridMenu"),t.hide()})}()}},{key:"updateMenuPageStatus",value:function(e,t){var a=n.i(i.b)(".grid-menu["+this.keyName+'="'+e+'"]');if(a&&0!==a.length){var r=n.i(i.b)('[refresh-type="previous"]',a),o=n.i(i.b)('[refresh-type="next"]',a),s=t.pageData[t.currentPageKey],c=t.pageData.tPage;1===s||0===c?r.addClass("disabled"):r.removeClass("disabled"),s===c||0===c?o.addClass("disabled"):o.removeClass("disabled")}}},{key:"isDisabled",value:function(e,t){return!!n.i(i.b)(e).hasClass("disabled")&&(t.stopPropagation(),t.preventDefault(),!0)}},{key:"destroy",value:function(e){var t=e.closest(".table-wrap"),a=r.a.getSettings(e),o=n.i(i.b)(".grid-menu["+this.keyName+'="'+a.gridManagerName+'"]'),s=n.i(i.b)("body");t.unbind("contextmenu"),n.i(i.b)('[grid-action="refresh-page"]').unbind("click"),n.i(i.b)('[grid-action="export-excel"]').unbind("click"),n.i(i.b)('[grid-action="config-grid"]').unbind("click"),s.off("mousedown.gridMenu"),o.remove()}},{key:"keyName",get:function(){return"grid-master"}}]),e}();t.a=new d},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(3),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(){function e(){a(this,e)}return r(e,[{key:"getThString",value:function(e){return i.a.i18nText(e,"order-text")}},{key:"getColumn",value:function(e){return{key:this.key,text:i.a.getText(e,"order-text"),isAutoCreate:!0,isShow:!0,width:"50px",align:"center",template:function(e){return'<td gm-order="true" gm-create="true">'+e+"</td>"}}}},{key:"key",get:function(){return"gm_order"}}]),e}();t.a=new o},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(){function e(){a(this,e),this.enable=!1}return r(e,[{key:"createHtml",value:function(e,t){return'<div class="remind-action">\n                    <i class="ra-icon iconfont icon-help"></i>\n                    <div class="ra-area">\n                        <span class="ra-title">'+e+'</span>\n                        <span class="ra-con">'+(t||e)+"</span>\n                    </div>\n                </div>"}},{key:"init",value:function(e){this.__bindRemindEvent(e)}},{key:"__bindRemindEvent",value:function(e){var t=n.i(i.b)(".remind-action",e);t.unbind("mouseenter"),t.bind("mouseenter",function(){var e=n.i(i.b)(this),t=e.find(".ra-area"),a=e.closest(".table-div");t.show();var r=a.get(0).offsetWidth-(e.offset().left-a.offset().left)>t.get(0).offsetWidth;t.css({left:r?"0px":"auto",right:r?"auto":"0px"})}),t.unbind("mouseleave"),t.bind("mouseleave",function(){n.i(i.b)(this).find(".ra-area").hide()})}},{key:"destroy",value:function(e){var t=n.i(i.b)(".remind-action",e);t.unbind("mouseenter"),t.unbind("mouseleave")}}]),e}();t.a=new o},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),r=n(2),o=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=function(){function e(){a(this,e),this.enable=!1}return s(e,[{key:"init",value:function(e){this.__bindSortingEvent(e)}},{key:"__setSort",value:function(e,t,n,a){var s=this,c=o.a.getSettings(e);if(!t||"object"!==i.b.type(t)||i.b.isEmptyObject(t))return i.a.outLog("排序数据不可用","warn"),!1;i.b.extend(c.sortData,t),o.a.setSettings(e,c),"function"!=typeof n&&(n=function(){}),void 0===a&&(a=!0),a?r.a.refresh(e,function(t){s.updateSortStyle(e),n(t)}):n()}},{key:"__bindSortingEvent",value:function(e){var t=this;e.off("mouseup",".sorting-action"),e.on("mouseup",".sorting-action",function(){var e=n.i(i.b)(this),a=e.closest("th"),s=a.closest("table"),c=a.attr("th-name"),u=o.a.getSettings(s);if(!c||""===i.b.trim(c))return i.a.outLog("排序必要的参数丢失","error"),!1;var l=u.sortData[a.attr("th-name")];u.isCombSorting||(u.sortData={}),u.sortData[a.attr("th-name")]=l===u.sortDownText?u.sortUpText:u.sortDownText,o.a.setSettings(s,u);var d=i.b.extend({},u.query,u.sortData,u.pageData);u.sortingBefore(d),r.a.refresh(s,function(){t.updateSortStyle(s),u.sortingAfter(d,a)})})}},{key:"updateSortStyle",value:function(e){var t=o.a.getSettings(e),a=null,r=null;i.b.each(n.i(i.b)(".sorting-action",e),function(e,t){n.i(i.b)(t).removeClass("sorting-up sorting-down"),n.i(i.b)(t).closest("th").attr("sorting","")}),i.b.each(t.sortData,function(o,s){a=n.i(i.b)('thead th[th-name="'+o+'"]',e),r=n.i(i.b)(".sorting-action",a),s===t.sortUpText&&(r.addClass("sorting-up"),r.removeClass("sorting-down"),a.attr("sorting",t.sortUpText)),s===t.sortDownText&&(r.addClass("sorting-down"),r.removeClass("sorting-up"),a.attr("sorting",t.sortDownText))})}},{key:"destroy",value:function(e){e.off("mouseup",".sorting-action")}},{key:"html",get:function(){return'<div class="sorting-action">\n                    <i class="sa-icon sa-up iconfont icon-up"></i>\n                    <i class="sa-icon sa-down iconfont icon-down"></i>\n                </div>'}}]),e}();t.a=new c},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var a="2.6.4",i=["init","get","version","getLocalStorage","resetLayout","clear","getRowData","setSort","showTh","hideTh","exportGridToXls","setQuery","setAjaxData","refreshGrid","getCheckedTr","getCheckedData","cleanData","destroy"]},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c});var i=n(9),r=n(15),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=function(){function e(){a(this,e)}return o(e,[{key:"init",value:function(e,t,n){return(new i.a).init(e,t,n)}},{key:"version",value:function(){return i.a.version}},{key:"get",value:function(e){return i.a.get(e)}},{key:"getLocalStorage",value:function(e){return i.a.getLocalStorage(e)}},{key:"resetLayout",value:function(e,t,n){return i.a.resetLayout(e,t,n)}},{key:"clear",value:function(e){return i.a.clear(e)}},{key:"getRowData",value:function(e,t){return i.a.getRowData(e,t)}},{key:"setSort",value:function(e,t,n,a){i.a.setSort(e,t,n,a)}},{key:"showTh",value:function(e,t){i.a.showTh(e,t)}},{key:"hideTh",value:function(e,t){i.a.hideTh(e,t)}},{key:"exportGridToXls",value:function(e,t,n){return i.a.exportGridToXls(e,t,n)}},{key:"setQuery",value:function(e,t,n,a){i.a.setQuery(e,t,n,a)}},{key:"setAjaxData",value:function(e,t,n){i.a.setAjaxData(e,t,n)}},{key:"refreshGrid",value:function(e,t,n){i.a.refreshGrid(e,t,n)}},{key:"getCheckedTr",value:function(e){return i.a.getCheckedTr(e)}},{key:"getCheckedData",value:function(e){return i.a.getCheckedData(e)}},{key:"cleanData",value:function(e){return i.a.cleanData(e)}},{key:"destroy",value:function(e){return i.a.destroy(e)}}]),e}(),c=r.a,u=new s},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),r=n(4),o=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=function(){function e(){a(this,e)}return s(e,[{key:"init",value:function(e){this.__bindDragEvent(e)}},{key:"__bindDragEvent",value:function(e){var t=this;e.off("mousedown",".drag-action"),e.on("mousedown",".drag-action",function(a){var s=n.i(i.b)("body"),c=o.a.getSettings(e),u=n.i(i.b)(this).closest("th"),l=null,d=null,f=u.parent(),h=n.i(i.b)('th[th-visible="visible"]',f),g=f.closest("table"),p=g.closest(".table-div"),v=g.closest(".table-wrap"),b=i.a.getColTd(u);c.dragBefore(a),s.addClass("no-select-text"),i.a.updateInteractive(g,"Drag"),u.addClass("drag-ongoing opacityChange"),b.addClass("drag-ongoing opacityChange"),v.append('<div class="dreamland-div"></div>');var y=n.i(i.b)(".dreamland-div",v);y.get(0).innerHTML='<table class="dreamland-table '+g.attr("class")+'"></table>';var m="",k=null,w=null;i.b.each(b,function(e,t){w=t.cloneNode(!0),w.style.height=t.offsetHeight+"px",k=n.i(i.b)(t).closest("tr").clone(),m+=k.html(w.outerHTML).get(0).outerHTML});var x='<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th style="height:'+u.height()+'px">\n\t\t\t\t\t\t\t\t'+n.i(i.b)(".drag-action",u).get(0).outerHTML+"\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t"+m+"\n\t\t\t\t\t\t\t</tbody>";n.i(i.b)(".dreamland-table",y).html(x);var T=0;s.unbind("mousemove"),s.bind("mousemove",function(e){T=u.index(h),l=void 0,T>0&&(l=h.eq(T-1)),d=void 0,T<h.length&&(d=h.eq(T+1)),l&&0!==l.length&&"true"===l.attr("gm-create")?l=void 0:d&&0!==d.length&&"true"===d.attr("gm-create")&&(d=void 0),y.show(),y.css({width:u.get(0).offsetWidth,height:g.get(0).offsetHeight,left:e.clientX-v.offset().left+window.pageXOffset-u.get(0).offsetWidth/2,top:e.clientY-v.offset().top+window.pageYOffset-y.find("th").get(0).offsetHeight/2});var a=!1;1===u.closest("thead["+i.a.getSetTopAttr()+"]").length&&(a=!0),t.updateDrag(g,l,d,u,b,y,a),h=n.i(i.b)('th[th-visible="visible"]',f)}),s.unbind("mouseup"),s.bind("mouseup",function(t){var a=o.a.getSettings(e);s.unbind("mousemove"),s.unbind("mouseup"),y=n.i(i.b)(".dreamland-div"),0!==y.length&&y.animate({top:g.get(0).offsetTop+"px",left:u.get(0).offsetLeft-p.get(0).scrollLeft+"px"},a.animateTime,function(){u.removeClass("drag-ongoing"),b.removeClass("drag-ongoing"),y.remove(),a.dragAfter(t)}),o.a.update(e,a),a.supportAdjust&&r.a.resetAdjust(g),s.removeClass("no-select-text"),i.a.updateInteractive(g)})})}},{key:"updateDrag",value:function(e,t,a,r,o,s,c){var u=null,l=null;if(t&&0!==t.length&&s.offset().left<t.offset().left){if(u=i.a.getColTd(t),t.before(r),i.b.each(o,function(e,t){u.eq(e).before(t)}),c){var d=n.i(i.b)('thead[grid-manager-thead] th[th-name="'+t.attr("th-name")+'"]',e),f=n.i(i.b)('thead[grid-manager-thead] th[th-name="'+r.attr("th-name")+'"]',e);d.before(f)}}else if(a&&0!==a.length&&s.offset().left+s.width()>a.offset().left&&(l=i.a.getColTd(a),a.after(r),i.b.each(o,function(e,t){l.eq(e).after(t)}),c)){var h=n.i(i.b)('thead[grid-manager-thead] th[th-name="'+a.attr("th-name")+'"]',e),g=n.i(i.b)('thead[grid-manager-thead] th[th-name="'+r.attr("th-name")+'"]',e);h.after(g)}}},{key:"destroy",value:function(e){var t=n.i(i.b)("body");e.off("mousedown",".drag-action"),t.unbind("mousemove"),t.unbind("mouseup")}}]),e}();t.a=new c},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(){function e(){a(this,e)}return r(e,[{key:"onTbodyHover",value:function(e){var t=this;e.off("mousemove","td"),e.on("mousemove","td",function(){t.updateHover(this)})}},{key:"updateHover",value:function(e){var t=n.i(i.b)(e),a=t.parent(),r=t.closest("table[grid-manager]");"true"===t.attr("col-hover")&&"true"===a.attr("row-hover")||("true"!==a.attr("row-hover")&&(n.i(i.b)('tr[row-hover="true"]',r).removeAttr("row-hover"),a.attr("row-hover","true")),"true"!==t.attr("col-hover")&&(n.i(i.b)('td[col-hover="true"]',r).removeAttr("col-hover"),i.a.getColTd(t).attr("col-hover","true")))}},{key:"destroy",value:function(e){e.off("mousemove","td")}}]),e}();t.a=new o},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),r=n(1),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=function(){function e(){a(this,e)}return o(e,[{key:"init",value:function(e){this.bindResizeToTable(e),this.bindScrollToTableDiv(e)}},{key:"bindResizeToTable",value:function(e){var t=r.a.getSettings(e);n.i(i.b)(window).bind("resize."+t.gridManagerName,function(){var t=n.i(i.b)("thead["+i.a.getSetTopAttr()+"]",e);t&&1===t.length&&(t.remove(),e.closest(".table-div").trigger("scroll"))})}},{key:"bindScrollToTableDiv",value:function(e){var t=e.closest(".table-div");t.unbind("scroll"),t.bind("scroll",function(t,a){var r=n.i(i.b)(this).scrollTop(),o=n.i(i.b)("thead[grid-manager-thead]",e),s=n.i(i.b)("tbody",e),c=n.i(i.b)("thead["+i.a.getSetTopAttr()+"]",e);return 0===n.i(i.b)("tr",s).length||((0===c.length||a)&&(0===c.length&&e.append(o.clone(!0).attr(i.a.getSetTopAttr(),"")),c=n.i(i.b)("thead["+i.a.getSetTopAttr()+"]",e),c.removeAttr("grid-manager-thead"),c.removeClass("scrolling"),c.css({width:o.width(),left:-e.closest(".table-div").scrollLeft()+"px"}),i.b.each(n.i(i.b)("th",o),function(e,t){n.i(i.b)("th",c).eq(e).width(n.i(i.b)(t).width())})),0!==c.length?(0===r?(o.removeClass("scrolling"),c.remove()):(o.addClass("scrolling"),c.css({left:-e.closest(".table-div").scrollLeft()+"px"})),!0):void 0)})}},{key:"destroy",value:function(e){var t=e.closest(".table-div"),a=r.a.getSettings(e);n.i(i.b)(window).unbind("resize."+a.gridManagerName),t.unbind("scroll")}}]),e}();t.a=new s},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var i=n(0),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function e(){a(this,e);var t={compileVue:!1},n={supportDrag:!0,dragBefore:i.c.noop,dragAfter:i.c.noop},o={supportAdjust:!0,adjustBefore:i.c.noop,adjustAfter:i.c.noop},s={supportMenu:!0},c={supportConfig:!0},u={width:"100%",height:"300px",animateTime:300,disableLine:!1,disableHover:!1,disableBorder:!1,loadingTemplate:void 0},l={disableCache:!1},d={isCombSorting:!1,mergeSort:!1,sortKey:"sort_",sortData:{},sortUpText:"ASC",sortDownText:"DESC",sortingBefore:i.c.noop,sortingAfter:i.c.noop},f={supportAjaxPage:!1,showFooterRefresh:!0,showFooterGoTo:!0,showFooterPageSize:!0,showFooterCheckedInfo:!0,showFooterPageInfo:!0,sizeData:[10,20,30,50,100],pageSize:20,pageData:{},totalsKey:"totals",currentPageKey:"cPage",pageSizeKey:"pSize",pagingBefore:i.c.noop,pagingAfter:i.c.noop},h={supportAutoOrder:!0},g={supportCheckbox:!0,checkedBefore:i.c.noop,checkedAfter:i.c.noop,checkedAllBefore:i.c.noop,checkedAllAfter:i.c.noop},p={i18n:"zh-cn"},v={topFullColumn:{},columnData:[],gridManagerName:"",firstLoading:!0,ajax_data:void 0,ajax_type:"GET",query:{},ajax_headers:{},ajax_xhrFields:{},ajax_beforeSend:i.c.noop,ajax_success:i.c.noop,ajax_complete:i.c.noop,ajax_error:i.c.noop,requestHandler:function(e){return e},responseHandler:function(e){return e},dataKey:"data",emptyTemplate:'<div class="gm-emptyTemplate">暂无数据</div>'},b={supportExport:!0},y=r({},t,n,o,s,c,u,l,d,f,h,g,p,v,b);i.c.extend(!0,this,y)},s=function e(){a(this,e),this["order-text"]={"zh-cn":"序号","zh-tw":"序號","en-us":"order"},this["first-page"]={"zh-cn":"首页","zh-tw":"首頁","en-us":"first"},this["previous-page"]={"zh-cn":"上一页","zh-tw":"上一頁","en-us":"previous"},this["next-page"]={"zh-cn":"下一页","zh-tw":"下一頁","en-us":"next"},this["last-page"]={"zh-cn":"尾页","zh-tw":"尾頁","en-us":"last"},this["page-info"]={"zh-cn":"此页显示 {0}-{1} 共{2}条","zh-tw":"此頁顯示 {0}-{1} 共{2}條","en-us":"this page show {0}-{1} count {2}"},this["checked-info"]={"zh-cn":"已选 {0} 条","zh-tw":"已選 {0} 條","en-us":"selected {0}"},this["goto-first-text"]={"zh-cn":"跳转至","zh-tw":"跳轉至","en-us":"goto"},this["goto-last-text"]={"zh-cn":"页","zh-tw":"頁","en-us":"page"},this.refresh={"zh-cn":"重新加载","zh-tw":"重新加載","en-us":"Refresh"},this["save-as-excel"]={"zh-cn":"另存为Excel","zh-tw":"另存為Excel","en-us":"Save as Excel"},this["save-as-excel-for-checked"]={"zh-cn":"已选中项另存为Excel","zh-tw":"已選中項另存為Excel","en-us":"Save selected as Excel"},this["config-grid"]={"zh-cn":"配置表","zh-tw":"配置表","en-us":"Setting Grid"},this["checkall-text"]={"zh-cn":"全选","zh-tw":"全選","en-us":"All"},this["filter-ok"]={"zh-cn":"确定","zh-tw":"確定","en-us":"OK"},this["filter-reset"]={"zh-cn":"重置","zh-tw":"重置","en-us":"Reset"}}},function(e,t,n){"use strict";var a=n(15),i={version:a.b,scope:{},responseData:{},originalTh:{},settings:{}};t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(9),r=n(16);!function(e){Element.prototype.GM=Element.prototype.GridManager=function(){if("TABLE"!==this.nodeName)return void a.a.outLog("不支持对非table标签实例化","error");var t=null,n=null,o=null,s=null;if(0===arguments.length?(t="init",n={},o=void 0):"string"!==e.type(arguments[0])?(t="init",n=arguments[0],o=arguments[1]):(t=arguments[0],n=arguments[1],o=arguments[2],s=arguments[3]),-1===r.a.indexOf(t))return void a.a.outLog("方法调用错误，请确定方法名["+t+"]是否正确","error");var c=i.a.get(this);return"init"===t||c&&c.gridManagerName?r.b[t](this,n,o,s)||this:void a.a.outLog("方法调用错误，请确定表格已实例化","error")}}(a.b),function(){window.GridManager=window.GM=i.a}(),function(e){void 0!==e&&e.fn.extend&&(e.fn.extend({GridManager:function(){return 0===arguments.length?this.get(0).GridManager():1===arguments.length?this.get(0).GridManager(arguments[0]):2===arguments.length?this.get(0).GridManager(arguments[0],arguments[1]):3===arguments.length?this.get(0).GridManager(arguments[0],arguments[1],arguments[2]):void 0}}),e.fn.extend({GM:e.fn.GridManager}))}(window.jQuery),function(e){window.$=e||void 0}(window.jQuery),t.default=i.a},function(e,t){},function(e,t,n){var a,a;!function e(t,n,i){function r(s,c){if(!n[s]){if(!t[s]){var u="function"==typeof a&&a;if(!c&&u)return a(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){return r(t[s][1][e]||e)},d,d.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof a&&a,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){var a=e("./utilities"),i=e("../src/Css"),r={show:function(){return a.each(this.DOMList,function(e,t){var n="",a=["SPAN","A","FONT","I"];if(-1!==t.nodeName.indexOf(a))return t.style.display="inline-block",this;switch(t.nodeName){case"TABLE":n="table";break;case"THEAD":n="table-header-group";break;case"TBODY":n="table-row-group";break;case"TR":n="table-row";break;case"TH":case"TD":n="table-cell";break;default:n="block"}t.style.display=n}),this},hide:function(){return a.each(this.DOMList,function(e,t){t.style.display="none"}),this},animate:function(e,t,n){var r=this,o="",s="",c=r.DOMList[0];if(e){"undefined"===a.type(n)&&"function"===a.type(t)&&(n=t,t=0),"undefined"===a.type(n)&&(n=a.noop),"undefined"===a.type(t)&&(t=0),a.each(e,function(e,t){e=a.toHyphen(e),o+=e+":"+a.getStyle(c,e)+";",s+=e+":"+t+";"});var u="@keyframes jToolAnimate {from {"+o+"}to {"+s+"}}",l=document.createElement("style");l.className="jTool-animate-style",l.type="text/css",document.head.appendChild(l),l.textContent=l.textContent+u,c.style.animation="jToolAnimate "+t/1e3+"s ease-in-out forwards",window.setTimeout(function(){i.css.call(r,e),c.style.animation="",document.head.removeChild(l),n()},t)}}};t.exports=r},{"../src/Css":3,"./utilities":13}],2:[function(e,t,n){var a=e("./utilities"),i={addClass:function(e){return this.changeClass(e,"add")},removeClass:function(e){return this.changeClass(e,"remove")},toggleClass:function(e){return this.changeClass(e,"toggle")},hasClass:function(e){return[].some.call(this.DOMList,function(t){return t.classList.contains(e)})},parseClassName:function(e){return e.indexOf(" ")?e.split(" "):[e]},changeClass:function(e,t){var n=this.parseClassName(e);return a.each(this.DOMList,function(e,i){a.each(n,function(e,n){i.classList[t](n)})}),this}};t.exports=i},{"./utilities":13}],3:[function(e,t,n){var a=e("./utilities"),i={css:function(e,t){function n(e,t){"number"===a.type(t)&&(t=t.toString()),-1!==r.indexOf(e)&&-1===t.indexOf("px")&&(t+="px"),a.each(i.DOMList,function(n,a){a.style[e]=t})}var i=this,r=["width","height","min-width","max-width","min-height","min-height","top","left","right","bottom","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left","border-width","border-top-width","border-left-width","border-right-width","border-bottom-width"];if("string"===a.type(e)&&!t&&0!==t)return-1!==r.indexOf(e)?parseInt(a.getStyle(this.DOMList[0],e),10):a.getStyle(this.DOMList[0],e);if("object"===a.type(e)){var o=e;for(var s in o)n(s,o[s])}else n(e,t);return this},width:function(e){return this.css("width",e)},height:function(e){return this.css("height",e)}};t.exports=i},{"./utilities":13}],4:[function(e,t,n){var a=e("./utilities"),i={dataKey:"jTool"+a.version,data:function(e,t){var n=this,i={};if(void 0===e&&void 0===t)return n.DOMList[0][n.dataKey];if(void 0!==t){var r=a.type(t);return"string"!==r&&"number"!==r||n.attr(e,t),a.each(n.DOMList,function(a,r){i=r[n.dataKey]||{},i[e]=t,r[n.dataKey]=i}),this}return i=n.DOMList[0][n.dataKey]||{},this.transformValue(i[e]||n.attr(e))},removeData:function(e){var t,n=this;void 0!==e&&(a.each(n.DOMList,function(a,i){t=i[n.dataKey]||{},delete t[e]}),n.removeAttr(e))},attr:function(e,t){return void 0===e&&void 0===t?"":void 0!==t?(a.each(this.DOMList,function(n,a){a.setAttribute(e,t)}),this):this.transformValue(this.DOMList[0].getAttribute(e))},removeAttr:function(e){void 0!==e&&a.each(this.DOMList,function(t,n){n.removeAttribute(e)})},prop:function(e,t){return void 0===e&&void 0===t?"":void 0!==t?(a.each(this.DOMList,function(n,a){a[e]=t}),this):this.transformValue(this.DOMList[0][e])},removeProp:function(e){void 0!==e&&a.each(this.DOMList,function(t,n){delete n[e]})},val:function(e){return this.prop("value",e)||""},transformValue:function(e){return"null"===a.type(e)&&(e=void 0),e}};t.exports=i},{"./utilities":13}],5:[function(e,t,n){var a=e("./utilities"),i=e("./Sizzle"),r={append:function(e){return this.html(e,"append")},prepend:function(e){return this.html(e,"prepend")},before:function(e){e.jTool&&(e=e.DOMList[0]);var t=this.DOMList[0];return t.parentNode.insertBefore(e,t),this},after:function(e){e.jTool&&(e=e.DOMList[0]);var t=this.DOMList[0],n=t.parentNode;n.lastChild==t?n.appendChild(e):n.insertBefore(e,t.nextSibling)},text:function(e){return void 0!==e?(a.each(this.DOMList,function(t,n){n.textContent=e}),this):this.DOMList[0].textContent},html:function(e,t){if(void 0===e&&void 0===t)return this.DOMList[0].innerHTML;var n=this,i=a.type(e);e.jTool?e=e.DOMList:"string"===i?e=a.createDOM(e||""):"element"===i&&(e=[e]);var r;return a.each(n.DOMList,function(n,i){t?"prepend"===t&&(r=i.firstChild):i.innerHTML="",a.each(e,function(e,t){t=t.cloneNode(!0),t.nodeType||(t=document.createTextNode(t)),r?i.insertBefore(t,r):i.appendChild(t),i.normalize()})}),this},wrap:function(e){var t;return a.each(this.DOMList,function(n,a){t=a.parentNode;var r=new i(e,a.ownerDocument).get(0);t.insertBefore(r,a),r.querySelector(":empty").appendChild(a)}),this},closest:function(e){function t(){if(!n||0===a.length||1!==n.nodeType)return void(n=null);-1===[].indexOf.call(a,n)&&(n=n.parentNode,t())}var n=this.DOMList[0].parentNode;if(void 0===e)return new i(n);var a=document.querySelectorAll(e);return t(),new i(n)},parent:function(){return this.closest()},clone:function(e){return new i(this.DOMList[0].cloneNode(e||!1))},remove:function(){a.each(this.DOMList,function(e,t){t.parentNode.removeChild(t)})}};t.exports=r},{"./Sizzle":9,"./utilities":13}],6:[function(e,t,n){var a=e("./Sizzle"),i={get:function(e){return this.DOMList[e]},eq:function(e){return new a(this.DOMList[e])},find:function(e){return new a(e,this)},index:function(e){var t=this.DOMList[0];return e?e.jTool&&(e=e.DOMList):e=t.parentNode.childNodes,e?[].indexOf.call(e,t):-1}};t.exports=i},{"./Sizzle":9}],7:[function(e,t,n){var a=e("./utilities"),i={on:function(e,t,n,a){return this.addEvent(this.getEventObject(e,t,n,a))},off:function(e,t){return this.removeEvent(this.getEventObject(e,t))},bind:function(e,t,n){return this.on(e,void 0,t,n)},unbind:function(e){return this.removeEvent(this.getEventObject(e))},trigger:function(e){return a.each(this.DOMList,function(t,n){try{if(n.jToolEvent&&n.jToolEvent[e].length>0){var i=new Event(e);n.dispatchEvent(i)}else"click"!==e?a.error("预绑定的事件只有click事件可以通过trigger进行调用"):"click"===e&&n[e]()}catch(t){a.error("事件:["+e+"]未能正确执行, 请确定方法已经绑定成功")}}),this},getEventObject:function(e,t,n,i){if("function"==typeof t&&(i=n||!1,n=t,t=void 0),!e)return a.error("事件绑定失败,原因: 参数中缺失事件类型"),this;if(t&&"element"===a.type(this.DOMList[0])||(t=""),""!==t){var r=n;n=function(e){for(var n=e.target;n!==this;){if(-1!==[].indexOf.call(this.querySelectorAll(t),n)){r.apply(n,arguments);break}n=n.parentNode}}}var o,s,c=e.split(" "),u=[];return a.each(c,function(e,r){if(""===r.trim())return!0;o=r.split("."),s={eventName:r+t,type:o[0],querySelector:t,callback:n||a.noop,useCapture:i||!1,nameScope:o[1]||void 0},u.push(s)}),u},addEvent:function(e){var t=this;return a.each(e,function(e,n){a.each(t.DOMList,function(e,t){t.jToolEvent=t.jToolEvent||{},t.jToolEvent[n.eventName]=t.jToolEvent[n.eventName]||[],t.jToolEvent[n.eventName].push(n),t.addEventListener(n.type,n.callback,n.useCapture)})}),t},removeEvent:function(e){var t,n=this;return a.each(e,function(e,i){a.each(n.DOMList,function(e,n){n.jToolEvent&&(t=n.jToolEvent[i.eventName])&&(a.each(t,function(e,t){n.removeEventListener(t.type,t.callback)}),n.jToolEvent[i.eventName]=void 0)})}),n}};t.exports=i},{"./utilities":13}],8:[function(e,t,n){var a=e("./utilities"),i={offset:function(){var e={top:0,left:0},t=this.DOMList[0];if(!t.getClientRects().length)return e;if("none"===a.getStyle(t,"display"))return e;e=t.getBoundingClientRect();var n=t.ownerDocument.documentElement;return{top:e.top+window.pageYOffset-n.clientTop,left:e.left+window.pageXOffset-n.clientLeft}},scrollTop:function(e){return this.scrollFN(e,"top")},scrollLeft:function(e){return this.scrollFN(e,"left")},scrollFN:function(e,t){var n=this.DOMList[0];return e||0===e?(this.setScrollFN(n,t,e),this):this.getScrollFN(n,t)},getScrollFN:function(e,t){return a.isWindow(e)?"top"===t?e.pageYOffset:e.pageXOffset:9===e.nodeType?"top"===t?e.body.scrollTop:e.body.scrollLeft:1===e.nodeType?"top"===t?e.scrollTop:e.scrollLeft:void 0},setScrollFN:function(e,t,n){return a.isWindow(e)?"top"===t?e.document.body.scrollTop=n:e.document.body.scrollLeft=n:9===e.nodeType?"top"===t?e.body.scrollTop=n:e.body.scrollLeft=n:1===e.nodeType?"top"===t?e.scrollTop=n:e.scrollLeft=n:void 0}};t.exports=i},{"./utilities":13}],9:[function(e,t,n){var a=e("./utilities"),i=function(e,t){var n;return e?a.isWindow(e)?(n=[e],t=void 0):e===document?(n=[document],t=void 0):e instanceof HTMLElement?(n=[e],t=void 0):e instanceof NodeList||e instanceof Array?(n=e,t=void 0):e.jTool?(n=e.DOMList,t=void 0):/<.+>/.test(e)?(n=a.createDOM(e),t=void 0):(t?t="string"==typeof t?document.querySelectorAll(t):t instanceof HTMLElement?[t]:t instanceof NodeList?t:t.jTool?t.DOMList:void 0:n=document.querySelectorAll(e),t&&(n=[],a.each(t,function(t,i){a.each(i.querySelectorAll(e),function(e,t){t&&n.push(t)})}))):e=null,n&&0!==n.length||(n=void 0),this.jTool=!0,this.DOMList=n,this.length=this.DOMList?this.DOMList.length:0,this.querySelector=e,this};t.exports=i},{"./utilities":13}],10:[function(e,t,n){function a(e){function t(){var t="";return"object"===s.type(e.data)?(s.each(e.data,function(e,n){""!==t&&(t+="&"),t+=e+"="+n}),t):e.data}var n={url:null,type:"GET",data:null,headers:{},async:!0,xhrFields:{},beforeSend:s.noop,complete:s.noop,success:s.noop,error:s.noop};if(e=o(n,e),!e.url)return void s.error("jTool ajax: url不能为空");var a=new XMLHttpRequest,i="";"GET"===e.type.toUpperCase()&&(i=t(),i&&(e.url=e.url+(-1===e.url.indexOf("?")?"?":"&")+i),i=null),"POST"===e.type.toUpperCase()&&(e.headers["Content-Type"]||(e.headers["Content-Type"]="application/x-www-form-urlencoded"),0===e.headers["Content-Type"].indexOf("application/x-www-form-urlencoded")&&(i=t()),0===e.headers["Content-Type"].indexOf("application/json")&&(i=JSON.stringify(e.data))),a.open(e.type,e.url,e.async);for(var r in e.xhrFields)a[r]=e.xhrFields[r];for(var c in e.headers)a.setRequestHeader(c,e.headers[c]);e.beforeSend(a),a.onload=function(){e.complete(a,a.status)},a.onreadystatechange=function(){4===a.readyState&&(a.status>=200&&a.status<300||304===a.status?e.success(a.response,a.status):e.error(a,a.status,a.statusText))},a.send(i)}function i(e,t,n){a({url:e,type:"POST",data:t,success:n})}function r(e,t,n){a({url:e,type:"GET",data:t,success:n})}var o=e("./extend"),s=e("./utilities");t.exports={ajax:a,post:i,get:r}},{"./extend":11,"./utilities":13}],11:[function(e,t,n){function a(){function e(t,a){for(var r in t)t.hasOwnProperty(r)&&(n&&"object"===i.type(t[r])?("object"!==i.type(a[r])&&(a[r]={}),e(t[r],a[r])):a[r]=t[r])}if(0===arguments.length)return{};var t,n=!1,a=1,r=arguments[0];for(1===arguments.length&&"object"==typeof arguments[0]?(r=this,a=0):2===arguments.length&&"boolean"==typeof arguments[0]?(n=arguments[0],r=this,a=1):arguments.length>2&&"boolean"==typeof arguments[0]&&(n=arguments[0],r=arguments[1]||{},a=2);a<arguments.length;a++)t=arguments[a]||{},e(t,r);return r}var i=e("./utilities");t.exports=a},{"./utilities":13}],12:[function(e,t,n){var a=e("./Sizzle"),i=e("./extend"),r=e("./utilities"),o=e("./ajax"),s=e("./Event"),c=e("./Css"),u=e("./Class"),l=e("./Document"),d=e("./Offset"),f=e("./Element"),h=e("./Animate"),g=e("./Data"),p=function(e,t){return new a(e,t)};a.prototype=p.prototype={},p.extend=p.prototype.extend=i,p.extend(r),p.extend(o),p.prototype.extend(s),p.prototype.extend(c),p.prototype.extend(u),p.prototype.extend(l),p.prototype.extend(d),p.prototype.extend(f),p.prototype.extend(h),p.prototype.extend(g),void 0!==window.$&&(window._$=$),window.jTool=window.$=p,t.exports=p},{"./Animate":1,"./Class":2,"./Css":3,"./Data":4,"./Document":5,"./Element":6,"./Event":7,"./Offset":8,"./Sizzle":9,"./ajax":10,"./extend":11,"./utilities":13}],13:[function(e,t,n){function a(){return-1!=navigator.userAgent.indexOf("Chrome")}function i(e){return null!==e&&e===e.window}function r(e){return Array.isArray(e)}function o(e){return y[b.call(e)]||(e instanceof Element?"element":"")}function s(){}function c(e,t){e&&e.jTool&&(e=e.DOMList);var n=o(e);if("array"===n||"nodeList"===n||"arguments"===n)[].every.call(e,function(e,n){return i(e)?s():e.jTool?e=e.get(0):s(),!1!==t.call(e,n,e)});else if("object"===n)for(var a in e)if(!1===t.call(e[a],a,e[a]))break}function u(e){return e.trim()}function l(e){throw new Error("[jTool Error: "+e+"]")}function d(e){var t=!0;for(var n in e)e.hasOwnProperty(n)&&(t=!1);return t}function f(e,t){return t?window.getComputedStyle(e)[t]:window.getComputedStyle(e)}function h(e){var t=["px","vem","em","%"],n="";return"number"==typeof e?n:(c(t,function(t,a){if(-1!==e.indexOf(a))return n=a,!1}),n)}function g(e){return e.replace(/-\w/g,function(e){return e.split("-")[1].toUpperCase()})}function p(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function v(e){var t=document.querySelector("#jTool-create-dom");if(!t||0===t.length){var n=document.createElement("table");n.id="jTool-create-dom",n.style.display="none",document.body.appendChild(n),t=document.querySelector("#jTool-create-dom")}t.innerHTML=e||"";var a=t.childNodes;return 1!=a.length||/<tbody|<TBODY/.test(e)||"TBODY"!==a[0].nodeName||(a=a[0].childNodes),1!=a.length||/<thead|<THEAD/.test(e)||"THEAD"!==a[0].nodeName||(a=a[0].childNodes),1!=a.length||/<tr|<TR/.test(e)||"TR"!==a[0].nodeName||(a=a[0].childNodes),1!=a.length||/<td|<TD/.test(e)||"TD"!==a[0].nodeName||(a=a[0].childNodes),1!=a.length||/<th|<TH/.test(e)||"TH"!==a[0].nodeName||(a=a[0].childNodes),document.body.removeChild(t),a}var b=Object.prototype.toString,y={"[object String]":"string","[object Boolean]":"boolean","[object Undefined]":"undefined","[object Number]":"number","[object Object]":"object","[object Error]":"error","[object Function]":"function","[object Date]":"date","[object Array]":"array","[object RegExp]":"regexp","[object Null]":"null","[object NodeList]":"nodeList","[object Arguments]":"arguments","[object Window]":"window","[object HTMLDocument]":"document"};t.exports={isWindow:i,isChrome:a,isArray:r,noop:s,type:o,toHyphen:p,toHump:g,getStyleUnit:h,getStyle:f,isEmptyObject:d,trim:u,error:l,each:c,createDOM:v,version:"1.2.25"}},{}]},{},[12])}])});